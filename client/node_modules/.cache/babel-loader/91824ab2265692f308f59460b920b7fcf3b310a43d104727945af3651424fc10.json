{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"light-lue lighten-1\",\n  role: \"navigation\"\n};\nconst _hoisted_2 = {\n  class: \"nav-wrapper container\"\n};\nconst _hoisted_3 = {\n  class: \"right hide-on-med-and-down\"\n};\nconst _hoisted_4 = {\n  class: \"input-field\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"label-icon\",\n  for: \"search\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"material-icons\",\n  style: {\n    \"line-height\": \"50px\",\n    \"padding\": \"5px\"\n  }\n}, \"search\")], -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"material-icons\",\n  style: {\n    \"line-height\": \"50px\"\n  }\n}, \"close\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  key: 0,\n  class: \"nav-item\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  key: 2\n};\nconst _hoisted_10 = [\"textContent\"];\nconst _hoisted_11 = {\n  id: \"dropdown-user\",\n  class: \"dropdown-content\",\n  style: {\n    \"width\": \"140px\"\n  }\n};\nconst _hoisted_12 = [\"textContent\"];\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"ul\", {\n  id: \"nav-mobile\",\n  class: \"sidenav\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\",\n  \"data-target\": \"nav-mobile\",\n  class: \"sidenav-trigger\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"material-icons\"\n}, \"Menu\")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    id: \"logo-container\",\n    to: \"/\",\n    class: \"brand-logo\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"TechnoStore AR\")]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"ul\", _hoisted_3, [_createElementVNode(\"li\", null, [_createElementVNode(\"form\", {\n    style: {\n      \"position\": \"relative\",\n      \"top\": \"10px\"\n    },\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.doSearch && $options.doSearch(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"search\",\n    type: \"search\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search = $event),\n    style: {\n      \"height\": \"50px\"\n    }\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.search]]), _hoisted_5, _hoisted_6])], 32 /* HYDRATE_EVENTS */)]), !$options.login ? (_openBlock(), _createElementBlock(\"li\", _hoisted_7, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Login\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), !$options.login ? (_openBlock(), _createElementBlock(\"li\", _hoisted_8, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), $options.user != null ? (_openBlock(), _createElementBlock(\"li\", _hoisted_9, [_createCommentVNode(\" Dropdown Trigger \"), _createElementVNode(\"a\", {\n    class: \"dropdown-trigger\",\n    href: \"javascript:void(0)\",\n    \"data-target\": \"dropdown-user\",\n    textContent: _toDisplayString($options.user.name)\n  }, null, 8 /* PROPS */, _hoisted_10), _createCommentVNode(\" Dropdown Structure \"), _createElementVNode(\"ul\", _hoisted_11, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.doLogout && $options.doLogout(...args))\n  }, \"Logout\")])])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/news\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"News\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/events\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Events\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/aboutUs\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"About Us\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/contactUs\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Contact Us\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/cart\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"CART \"), $options.cartCounter > 0 ? (_openBlock(), _createElementBlock(\"span\", {\n      key: 0,\n      textContent: _toDisplayString('(' + $options.cartCounter + ')')\n    }, null, 8 /* PROPS */, _hoisted_12)) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })])]), _hoisted_13, _hoisted_14])]);\n}","map":{"version":3,"names":["class","role","_createElementVNode","for","style","id","href","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","onSubmit","_cache","_withModifiers","args","$options","doSearch","_hoisted_4","type","$data","search","$event","_hoisted_5","_hoisted_6","login","_hoisted_7","_hoisted_8","user","_hoisted_9","_createCommentVNode","_toDisplayString","name","_hoisted_11","onClick","doLogout","cartCounter","_hoisted_13","_hoisted_14"],"sources":["C:\\Users\\arbid\\OneDrive\\Desktop\\TechnoStoreAR-main\\client\\src\\components\\layouts\\AppHeader.vue"],"sourcesContent":["<template>\n  <nav class=\"light-lue lighten-1\" role=\"navigation\">\n    <div class=\"nav-wrapper container\">\n\n      <router-link id=\"logo-container\" to=\"/\" class=\"brand-logo\">TechnoStore AR</router-link>\n\n      <ul class=\"right hide-on-med-and-down\">\n        <li>\n          <form style=\"position: relative; top: 10px;\" v-on:submit.prevent=\"doSearch\">\n            <div class=\"input-field\">\n              <input id=\"search\" type=\"search\" v-model=\"search\" style=\"height: 50px;\" />\n              <label class=\"label-icon\" for=\"search\"><i class=\"material-icons\" style=\"line-height: 50px; padding: 5px;\">search</i></label>\n              <i class=\"material-icons\" style=\"line-height: 50px;\">close</i>\n            </div>\n          </form>\n        </li>\n\n        <li class=\"nav-item\" v-if=\"!login\">\n          <router-link class=\"nav-link\" to=\"/login\">Login</router-link>\n        </li>\n\n        <li class=\"nav-item\" v-if=\"!login\">\n          <router-link class=\"nav-link\" to=\"/register\">Register</router-link>\n        </li>\n\n        <li v-if=\"user != null\">\n           <!-- Dropdown Trigger -->\n            <a class='dropdown-trigger' href='javascript:void(0)' data-target='dropdown-user' v-text=\"user.name\"></a>\n\n            <!-- Dropdown Structure -->\n            <ul id='dropdown-user' class='dropdown-content' style=\"width: 140px;\">\n              <li><a href=\"javascript:void(0)\" v-on:click=\"doLogout\">Logout</a></li>\n            </ul>\n        </li>\n        <li>\n          <router-link to=\"/news\">News</router-link>\n        </li>\n        <li>\n          <router-link to=\"/events\">Events</router-link>\n        </li>\n        <li>\n          <router-link to=\"/aboutUs\">About Us</router-link>\n        </li>\n        <li>\n          <router-link to=\"/contactUs\">Contact Us</router-link>\n        </li>\n        <li>\n          <router-link to=\"/cart\">CART <span v-if=\"cartCounter > 0\" v-text=\"'(' + cartCounter + ')'\"></span></router-link>\n        </li>\n      </ul>\n\n      <ul id=\"nav-mobile\" class=\"sidenav\">\n      </ul>\n      <a href=\"#\" data-target=\"nav-mobile\" class=\"sidenav-trigger\"><i class=\"material-icons\">Menu</i></a>\n    </div>\n  </nav>\n</template>\n\n<script>\n\n  import \"/public/assets/css/materialize.css\"\n  import \"/public/assets/css/style.css\"\n\n  import \"/public/assets/js/materialize.js\"\n  import \"/public/assets/js/init.js\"\n\n  import store from \"../../vuex/store\"\n  import axios from \"axios\"\n  import swal from \"sweetalert2\"\n\n  import { io } from \"socket.io-client\"\n\n  export default {\n    name: \"AppHeader\",\n\n    data() {\n      return {\n        search: \"\"\n      }\n    },\n\n    computed: {\n      user: function () {\n        return store.getters.getUser\n      },\n\n      login: function () {\n        return store.getters.getLogin\n      },\n\n      cartCounter: function() {\n        return store.getters.getCartCounter\n      }\n    },\n\n    methods: {\n      doLogout: async function () {\n        const response = await axios.post(\n          this.$apiURL + \"/logout\",\n          null,\n          {\n            headers: this.$headers\n          }\n        )\n\n        if (response.data.status == \"success\") {\n          // remove access token from local storage\n          localStorage.removeItem(this.$accessTokenKey)\n\n          this.$headers = {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer '\n          }\n\n          store.commit(\"setLogin\", false)\n          store.commit(\"setUser\", null)\n\n          this.$router.push(\"/login\")\n        } else {\n          swal.fire(\"Error\", response.data.message, \"error\")\n        }\n      },\n\n      getUser: async function () {\n\n        // check if user is logged in\n        if (localStorage.getItem(this.$accessTokenKey)) {\n\n          const response = await axios.post(\n            this.$apiURL + \"/getUser\",\n            null,\n            {\n                headers: this.$headers\n            }\n          )\n\n          if (response.data.status == \"success\") {\n            // user is logged in\n            store.commit(\"setUser\", response.data.user)\n\n            global.socketIO.emit(\"connected\", response.data.user.email)\n\n            global.socketIO.on(\"newMessage\", function (message) {\n              store.commit(\"appendMessage\", message)\n              M.toast({html: 'New message has been received.'})\n            })\n\n            setTimeout(function () {\n              var elems = document.querySelectorAll('.dropdown-trigger')\n              var instances = M.Dropdown.init(elems, {})\n            }, 500)\n          } else {\n            // user is logged out\n            localStorage.removeItem(this.$accessTokenKey)\n          }\n\n          store.commit(\"setLogin\", (localStorage.getItem(this.$accessTokenKey) != null))\n        }\n      },\n\n      doSearch: function () {\n        store.commit(\"setSearch\", this.search)\n      }\n    },\n\n    mounted: function () {\n      const cookieParts = document.cookie.split(\"; \")\n      for (let a = 0; a < cookieParts.length; a++) {\n        const keyValue = cookieParts[a].split(\"=\")\n        if (keyValue[0] == \"products\") {\n          const products = JSON.parse(keyValue[1])\n          store.commit(\"setCartCounter\", products.length)\n        }\n      }\n\n      global.socketIO = io(this.$apiURL)\n      this.getUser()\n\n      var elems = document.querySelectorAll('.sidenav')\n      M.Sidenav.init(elems, {})\n    }\n  }\n</script>"],"mappings":";;EACOA,KAAK,EAAC,qBAAqB;EAACC,IAAI,EAAC;;;EAC/BD,KAAK,EAAC;AAAuB;;EAI5BA,KAAK,EAAC;AAA4B;;EAG3BA,KAAK,EAAC;AAAa;gCAEtBE,mBAAA,CAA4H;EAArHF,KAAK,EAAC,YAAY;EAACG,GAAG,EAAC;iBAASD,mBAAA,CAA6E;EAA1EF,KAAK,EAAC,gBAAgB;EAACI,KAAwC,EAAxC;IAAA;IAAA;EAAA;GAAyC,QAAM,E;gCAChHF,mBAAA,CAA8D;EAA3DF,KAAK,EAAC,gBAAgB;EAACI,KAA0B,EAA1B;IAAA;EAAA;GAA2B,OAAK;;;EAK5DJ,KAAK,EAAC;;;;EAINA,KAAK,EAAC;;;;;;;EASFK,EAAE,EAAC,eAAe;EAACL,KAAK,EAAC,kBAAkB;EAACI,KAAqB,EAArB;IAAA;EAAA;;;iCAqBtDF,mBAAA,CACK;EADDG,EAAE,EAAC,YAAY;EAACL,KAAK,EAAC;;iCAE1BE,mBAAA,CAAmG;EAAhGI,IAAI,EAAC,GAAG;EAAC,aAAW,EAAC,YAAY;EAACN,KAAK,EAAC;iBAAkBE,mBAAA,CAAkC;EAA/BF,KAAK,EAAC;AAAgB,GAAC,MAAI,E;;;;uBApD/FO,mBAAA,CAsDM,OAtDNC,UAsDM,GArDJN,mBAAA,CAoDM,OApDNO,UAoDM,GAlDJC,YAAA,CAAuFC,sBAAA;IAA1EN,EAAE,EAAC,gBAAgB;IAACO,EAAE,EAAC,GAAG;IAACZ,KAAK,EAAC;;sBAAa,MAAc,C,iBAAd,gBAAc,E;;MAEzEE,mBAAA,CA2CK,MA3CLW,UA2CK,GA1CHX,mBAAA,CAQK,aAPHA,mBAAA,CAMO;IANDE,KAAsC,EAAtC;MAAA;MAAA;IAAA,CAAsC;IAAMU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,QAAA,IAAAD,QAAA,CAAAC,QAAA,IAAAF,IAAA,CAAQ;MACxEf,mBAAA,CAIM,OAJNkB,UAIM,G,gBAHJlB,mBAAA,CAA0E;IAAnEG,EAAE,EAAC,QAAQ;IAACgB,IAAI,EAAC,QAAQ;+DAAUC,KAAA,CAAAC,MAAM,GAAAC,MAAA;IAAEpB,KAAqB,EAArB;MAAA;IAAA;iDAARkB,KAAA,CAAAC,MAAM,E,GAChDE,UAA4H,EAC5HC,UAA8D,C,iCAKxCR,QAAA,CAAAS,KAAK,I,cAAjCpB,mBAAA,CAEK,MAFLqB,UAEK,GADHlB,YAAA,CAA6DC,sBAAA;IAAhDX,KAAK,EAAC,UAAU;IAACY,EAAE,EAAC;;sBAAS,MAAK,C,iBAAL,OAAK,E;;8CAGrBM,QAAA,CAAAS,KAAK,I,cAAjCpB,mBAAA,CAEK,MAFLsB,UAEK,GADHnB,YAAA,CAAmEC,sBAAA;IAAtDX,KAAK,EAAC,UAAU;IAACY,EAAE,EAAC;;sBAAY,MAAQ,C,iBAAR,UAAQ,E;;6CAG7CM,QAAA,CAAAY,IAAI,Y,cAAdvB,mBAAA,CAQK,MAAAwB,UAAA,GAPFC,mBAAA,sBAAyB,EACxB9B,mBAAA,CAAyG;IAAtGF,KAAK,EAAC,kBAAkB;IAACM,IAAI,EAAC,oBAAoB;IAAC,aAAW,EAAC,eAAe;iBAAC2B,gBAAA,CAAQf,QAAU,CAAAY,IAAN,CAACI,IAAI;wCAEnGF,mBAAA,wBAA2B,EAC3B9B,mBAAA,CAEK,MAFLiC,WAEK,GADHjC,mBAAA,CAAsE,aAAlEA,mBAAA,CAA6D;IAA1DI,IAAI,EAAC,oBAAoB;IAAM8B,OAAK,EAAArB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAmB,QAAA,IAAAnB,QAAA,CAAAmB,QAAA,IAAApB,IAAA,CAAQ;KAAE,QAAM,E,4CAGnEf,mBAAA,CAEK,aADHQ,YAAA,CAA0CC,sBAAA;IAA7BC,EAAE,EAAC;EAAO;sBAAC,MAAI,C,iBAAJ,MAAI,E;;QAE9BV,mBAAA,CAEK,aADHQ,YAAA,CAA8CC,sBAAA;IAAjCC,EAAE,EAAC;EAAS;sBAAC,MAAM,C,iBAAN,QAAM,E;;QAElCV,mBAAA,CAEK,aADHQ,YAAA,CAAiDC,sBAAA;IAApCC,EAAE,EAAC;EAAU;sBAAC,MAAQ,C,iBAAR,UAAQ,E;;QAErCV,mBAAA,CAEK,aADHQ,YAAA,CAAqDC,sBAAA;IAAxCC,EAAE,EAAC;EAAY;sBAAC,MAAU,C,iBAAV,YAAU,E;;QAEzCV,mBAAA,CAEK,aADHQ,YAAA,CAAgHC,sBAAA;IAAnGC,EAAE,EAAC;EAAO;sBAAC,MAAK,C,iBAAL,OAAK,GAAYM,QAAA,CAAAoB,WAAW,Q,cAAvB/B,mBAAA,CAAqE;;mBAAxC0B,gBAAA,CAAgC,MAAlBf,QAAA,CAAAoB,WAAW;;;UAIvFC,WACK,EACLC,WAAmG,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}