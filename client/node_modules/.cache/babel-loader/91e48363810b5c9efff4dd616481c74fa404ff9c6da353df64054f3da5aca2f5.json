{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"section no-pad-bot\",\n  id: \"index-banner\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col m6\"\n};\nconst _hoisted_5 = {\n  class: \"carousel\"\n};\nconst _hoisted_6 = {\n  class: \"carousel-item\",\n  href: \"#one!\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"col m6\"\n};\nconst _hoisted_9 = [\"textContent\"];\nconst _hoisted_10 = [\"textContent\"];\nconst _hoisted_11 = [\"textContent\"];\nconst _hoisted_12 = {\n  class: \"container\"\n};\nconst _hoisted_13 = {\n  class: \"row\"\n};\nconst _hoisted_14 = {\n  class: \"col s12\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"ul\", {\n  class: \"tabs\",\n  id: \"tabs\"\n}, [/*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"tab col s12\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"active\",\n  href: \"#specifications\"\n}, \"Specifications\")])], -1 /* HOISTED */);\nconst _hoisted_16 = {\n  id: \"specifications\",\n  class: \"col s12\"\n};\nconst _hoisted_17 = {\n  class: \"table\"\n};\nconst _hoisted_18 = [\"textContent\"];\nconst _hoisted_19 = [\"textContent\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.product != null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.product.images, (image, index) => {\n    return _openBlock(), _createElementBlock(\"a\", _hoisted_6, [_createElementVNode(\"img\", {\n      src: this.$apiURL + '/' + image,\n      style: {\n        \"width\": \"500px\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_7)]);\n  }), 256 /* UNKEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h1\", {\n    textContent: _toDisplayString($data.product.name + ' (€' + $data.product.price + ')')\n  }, null, 8 /* PROPS */, _hoisted_9), _createElementVNode(\"p\", {\n    textContent: _toDisplayString($data.product.description)\n  }, null, 8 /* PROPS */, _hoisted_10), _createElementVNode(\"p\", null, [_createTextVNode(\"In stock: \"), _createElementVNode(\"span\", {\n    textContent: _toDisplayString($data.product.itemsInStock || 0)\n  }, null, 8 /* PROPS */, _hoisted_11)]), $data.isInCart ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    type: \"button\",\n    class: \"waves-effect waves-light btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.removeFromCart && $options.removeFromCart(...args))\n  }, \"Remove from cart\")) : (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    type: \"button\",\n    class: \"waves-effect waves-light btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.addToCart && $options.addToCart(...args))\n  }, \"Add to cart\"))])])]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"table\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.product.specs, spec => {\n    return _openBlock(), _createElementBlock(\"tr\", null, [_createElementVNode(\"th\", {\n      textContent: _toDisplayString(spec.key)\n    }, null, 8 /* PROPS */, _hoisted_18), _createElementVNode(\"td\", {\n      textContent: _toDisplayString(spec.value)\n    }, null, 8 /* PROPS */, _hoisted_19)]);\n  }), 256 /* UNKEYED_FRAGMENT */))])])])])])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["class","id","href","_createElementVNode","$data","product","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","images","image","index","_hoisted_6","src","$apiURL","style","_hoisted_8","_toDisplayString","name","price","description","itemsInStock","isInCart","type","onClick","_cache","args","$options","removeFromCart","addToCart","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","specs","spec","key","value"],"sources":["C:\\Users\\arbid\\OneDrive\\Desktop\\TechnoStoreAR-main\\client\\src\\components\\ProductDetail.vue"],"sourcesContent":["<template>\n\t<div class=\"section no-pad-bot\" id=\"index-banner\" v-if=\"product != null\">\n\t\t<div class=\"container-fluid\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col m6\">\n\t\t\t\t\t<div class=\"carousel\">\n\t\t\t\t\t\t<a class=\"carousel-item\" href=\"#one!\" v-for=\"(image, index) in product.images\">\n\t\t\t\t\t\t\t<img v-bind:src=\"this.$apiURL + '/' + image\" style=\"width: 500px;\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"col m6\">\n\t\t\t\t\t<h1 v-text=\"product.name + ' (€' + product.price + ')'\"></h1>\n\t\t\t\t\t<p v-text=\"product.description\"></p>\n\t\t\t\t\t<p>In stock: <span v-text=\"product.itemsInStock || 0\"></span></p>\n\n\t\t\t\t\t<button v-if=\"isInCart\" type=\"button\" class=\"waves-effect waves-light btn\" v-on:click=\"removeFromCart\">Remove from cart</button>\n\t\t\t\t\t<button v-else type=\"button\" class=\"waves-effect waves-light btn\" v-on:click=\"addToCart\">Add to cart</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"container\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col s12\">\n\t\t\t\t\t<ul class=\"tabs\" id=\"tabs\">\n\t\t\t\t\t\t<li class=\"tab col s12\"><a class=\"active\" href=\"#specifications\">Specifications</a></li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<div id=\"specifications\" class=\"col s12\">\n\t\t\t\t\t\t<table class=\"table\">\n\t\t\t\t\t\t\t<tr v-for=\"spec in product.specs\">\n\t\t\t\t\t\t\t\t<th v-text=\"spec.key\"></th>\n\t\t\t\t\t\t\t\t<td v-text=\"spec.value\"></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport axios from \"axios\"\n\timport swal from \"sweetalert2\"\n\timport store from \"../vuex/store\"\n\n\texport default {\n\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t_id: this.$route.params._id,\n\t\t\t\tproduct: null,\n\t\t\t\tisInCart: false\n\t\t\t}\n\t\t},\n\n\t\tmethods: {\n\t\t\tgetDateInFormat: function (timestamp) {\n\t\t\t\tlet date = new Date(timestamp)\n\t\t\t\tdate = date.getDate() + \" \" + store.getters.getMonths[date.getMonth()] + \", \" + date.getFullYear()\n\t\t\t\treturn date\n\t\t\t},\n\n\t\t\tremoveFromCart: function () {\n\t\t\t\tconst cookieParts = document.cookie.split(\"; \")\n\t\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\n\t\t\t\t\tif (keyValue[0] == \"products\") {\n\t\t\t\t\t\tconst products = JSON.parse(keyValue[1])\n\t\t\t\t\t\tfor (let b = 0; b < products.length; b++) {\n\t\t\t\t\t\t\tif (products[b]._id == this._id) {\n\t\t\t\t\t\t\t\tproducts.splice(b, 1)\n\t\t\t\t\t\t\t\tdocument.cookie = \"products=\" + JSON.stringify(products)\n\n\t\t\t\t\t\t\t\tswal.fire(\"Remove from cart\", \"Product has been removed from cart\", \"success\")\n\t\t\t\t\t\t\t\tthis.isInCart = false\n\t\t\t\t\t\t\t\tstore.commit(\"setCartCounter\", products.length)\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\taddToCart: function () {\n\t\t\t\tif (this.product == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tlet products = []\n\t\t\t\tconst cookieParts = document.cookie.split(\"; \")\n\t\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\n\t\t\t\t\tif (keyValue[0] == \"products\") {\n\t\t\t\t\t\tproducts = JSON.parse(keyValue[1])\n\t\t\t\t\t\tbreak \n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tproducts.push({\n\t\t\t\t\t_id: this._id,\n\t\t\t\t\tname: this.product.name,\n\t\t\t\t\tprice: this.product.price,\n\t\t\t\t\tunits: 1\n\t\t\t\t})\n\t\t\t\tdocument.cookie = \"products=\" + JSON.stringify(products)\n\n\t\t\t\t// swal.fire(\"Add to cart\", \"Product has been added to cart\", \"success\")\n\t\t\t\tthis.isInCart = true\n\t\t\t\tstore.commit(\"setCartCounter\", products.length)\n\t\t\t},\n\n            getData: async function () {\n                const formData = new FormData()\n                formData.append(\"_id\", this._id)\n\n                const response = await axios.post(\n                    this.$apiURL + \"/products/fetchSingle\",\n                    formData\n                )\n\n                if (response.data.status == \"success\") {\n                    // console.log(response.data.product)\n                    this.product = response.data.product\n\n                    setTimeout(function () {\n                    \tvar elems = document.querySelectorAll('.carousel')\n\t                    var instances = M.Carousel.init(elems, {})\n\t                }, 500)\n                } else {\n                    swal.fire(\"Error\", response.data.message, \"error\")\n                }\n            }\n        },\n\n        mounted: function () {\n            this.getData()\n\n            const cookieParts = document.cookie.split(\"; \")\n\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\n\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\n\t\t\t\tif (keyValue[0] == \"products\") {\n\t\t\t\t\tconst products = JSON.parse(keyValue[1])\n\t\t\t\t\tfor (let b = 0; b < products.length; b++) {\n\t\t\t\t\t\tif (products[b]._id == this._id) {\n\t\t\t\t\t\t\tthis.isInCart = true\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tvar el = document.querySelectorAll('.tabs')\n\t\t\t\tvar instance = M.Tabs.init(el, {})\n\t\t\t}, 1000)\n        }\n\t}\n</script>"],"mappings":";;;EACMA,KAAK,EAAC,oBAAoB;EAACC,EAAE,EAAC;;;EAC7BD,KAAK,EAAC;AAAiB;;EACtBA,KAAK,EAAC;AAAK;;EACVA,KAAK,EAAC;AAAQ;;EACbA,KAAK,EAAC;AAAU;;EACjBA,KAAK,EAAC,eAAe;EAACE,IAAI,EAAC;;;;EAM3BF,KAAK,EAAC;AAAQ;;;;;EAWhBA,KAAK,EAAC;AAAW;;EAChBA,KAAK,EAAC;AAAK;;EACVA,KAAK,EAAC;AAAS;iCACnBG,mBAAA,CAEK;EAFDH,KAAK,EAAC,MAAM;EAACC,EAAE,EAAC;iBACnBE,mBAAA,CAAwF;EAApFH,KAAK,EAAC;AAAa,I,aAACG,mBAAA,CAA2D;EAAxDH,KAAK,EAAC,QAAQ;EAACE,IAAI,EAAC;GAAkB,gBAAc,E;;EAG3ED,EAAE,EAAC,gBAAgB;EAACD,KAAK,EAAC;;;EACvBA,KAAK,EAAC;AAAO;;;;SA9B+BI,KAAA,CAAAC,OAAO,Y,cAA/DC,mBAAA,CAwCM,OAxCNC,UAwCM,GAvCLJ,mBAAA,CAmBM,OAnBNK,UAmBM,GAlBLL,mBAAA,CAiBM,OAjBNM,UAiBM,GAhBLN,mBAAA,CAMM,OANNO,UAMM,GALLP,mBAAA,CAIM,OAJNQ,UAIM,I,kBAHLL,mBAAA,CAEIM,SAAA,QAAAC,WAAA,CAF2DT,KAAA,CAAAC,OAAO,CAACS,MAAM,GAA/BC,KAAK,EAAEC,KAAK;yBAA1DV,mBAAA,CAEI,KAFJW,UAEI,GADHd,mBAAA,CAAqE;MAAzDe,GAAG,OAAOC,OAAO,SAASJ,KAAK;MAAEK,KAAqB,EAArB;QAAA;MAAA;;wCAKhDjB,mBAAA,CAOM,OAPNkB,UAOM,GANLlB,mBAAA,CAA6D;iBAAzDmB,gBAAA,CAAQlB,KAA2C,CAAAC,OAApC,CAACkB,IAAI,WAAWnB,KAAA,CAAAC,OAAO,CAACmB,KAAK;uCAChDrB,mBAAA,CAAoC;iBAAjCmB,gBAAA,CAAQlB,KAAoB,CAAAC,OAAb,CAACoB,WAAW;wCAC9BtB,mBAAA,CAAiE,Y,iBAA9D,YAAU,GAAAA,mBAAA,CAAgD;iBAA1CmB,gBAAA,CAAQlB,KAA0B,CAAAC,OAAnB,CAACqB,YAAY;0CAEjCtB,KAAA,CAAAuB,QAAQ,I,cAAtBrB,mBAAA,CAAgI;;IAAxGsB,IAAI,EAAC,QAAQ;IAAC5B,KAAK,EAAC,8BAA8B;IAAM6B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,cAAA,IAAAD,QAAA,CAAAC,cAAA,IAAAF,IAAA,CAAc;KAAE,kBAAgB,M,cACvHzB,mBAAA,CAA6G;;IAA9FsB,IAAI,EAAC,QAAQ;IAAC5B,KAAK,EAAC,8BAA8B;IAAM6B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAE,SAAA,IAAAF,QAAA,CAAAE,SAAA,IAAAH,IAAA,CAAS;KAAE,aAAW,G,OAKvG5B,mBAAA,CAiBM,OAjBNgC,WAiBM,GAhBLhC,mBAAA,CAeM,OAfNiC,WAeM,GAdLjC,mBAAA,CAaM,OAbNkC,WAaM,GAZLC,WAEK,EAELnC,mBAAA,CAOM,OAPNoC,WAOM,GANLpC,mBAAA,CAKQ,SALRqC,WAKQ,I,kBAJPlC,mBAAA,CAGKM,SAAA,QAAAC,WAAA,CAHcT,KAAA,CAAAC,OAAO,CAACoC,KAAK,EAArBC,IAAI;yBAAfpC,mBAAA,CAGK,aAFJH,mBAAA,CAA2B;mBAAvBmB,gBAAA,CAAQoB,IAAI,CAACC,GAAG;0CACpBxC,mBAAA,CAA6B;mBAAzBmB,gBAAA,CAAQoB,IAAI,CAACE,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}