{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport store from \"../vuex/store\";\nexport default {\n  data() {\n    return {\n      page: 1,\n      products: [],\n      sortBy: \"\",\n      categories: [],\n      category: \"\",\n      isLoading: false\n    };\n  },\n  computed: {\n    search: function () {\n      return store.getters.getSearch;\n    }\n  },\n  methods: {\n    onchangeSortBy: function () {\n      this.page = 1;\n      this.sortBy = event.target.value;\n      this.getData();\n    },\n    onclickCategory: function () {\n      this.page = 1;\n      this.category = event.target.innerHTML;\n      this.getData();\n    },\n    loadMore: function () {\n      this.$refs.btnLoadMore.setAttribute(\"disabled\", \"disabled\");\n      this.page++;\n      this.getData();\n    },\n    getConfigurations: async function () {\n      const response = await axios.post(this.$apiURL + \"/getConfigurations\", null);\n      if (response.data.status == \"success\") {\n        const configurations = response.data.configurations;\n        this.categories = configurations.categories || [];\n      }\n    },\n    getData: async function () {\n      this.isLoading = true;\n      const formData = new FormData();\n      formData.append(\"page\", this.page);\n      formData.append(\"sortBy\", this.sortBy);\n      formData.append(\"category\", this.category);\n      formData.append(\"search\", this.search);\n      const response = await axios.post(this.$apiURL + \"/products/fetch\", formData);\n      this.isLoading = false;\n      this.$refs.btnLoadMore.removeAttribute(\"disabled\");\n      if (response.data.status == \"success\") {\n        this.products = response.data.products;\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    }\n  },\n  mounted: function () {\n    this.getConfigurations();\n    this.getData();\n    var elems = document.querySelectorAll('select');\n    var instances = M.FormSelect.init(elems, {});\n  },\n  watch: {\n    search: function (to, from) {\n      this.getData();\n    }\n  }\n};","map":{"version":3,"names":["axios","swal","store","data","page","products","sortBy","categories","category","isLoading","computed","search","getters","getSearch","methods","onchangeSortBy","event","target","value","getData","onclickCategory","innerHTML","loadMore","$refs","btnLoadMore","setAttribute","getConfigurations","response","post","$apiURL","status","configurations","formData","FormData","append","removeAttribute","fire","message","mounted","elems","document","querySelectorAll","instances","M","FormSelect","init","watch","to","from"],"sources":["C:\\Users\\arbid\\OneDrive\\Desktop\\TechnoStoreAR-main\\client\\src\\components\\HomeComponent.vue"],"sourcesContent":["<template>\n\t<div class=\"section no-pad-bot\" id=\"index-banner\">\n\t\t<div class=\"container-fluid\">\n\t\t\t<br><br>\n\t\t\t<h1 class=\"header center orange-text\">Welcome to TechnoStore AR</h1>\n\t\t\t<div class=\"row center\">\n\t\t\t\t<h5 class=\"header col s12 light\">We offer the best items in trade!</h5>\n\t\t\t</div>\n\t\t\t<br><br>\n\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col offset-m8 m4\">\n\t\t\t\t\t<div class=\"input-field col s12\">\n\t\t\t\t\t\t<select v-on:change=\"onchangeSortBy\">\n\t\t\t\t\t\t\t<option value=\"newestToOldest\">Newest to oldest</option>\n\t\t\t\t\t\t\t<option value=\"oldestToNewest\">Oldest to newest</option>\n\t\t\t\t\t\t\t<option value=\"priceDescending\">Price (descending)</option>\n\t\t\t\t\t\t\t<option value=\"priceAscending\">Price (ascending)</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<label>Sort by</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"row\" v-if=\"isLoading\">\n\t\t\t\t<div class=\"col offset-m6 m4\">\n\t\t\t\t\t<div class=\"preloader-wrapper big active\">\n\t\t\t\t\t\t<div class=\"spinner-layer spinner-blue-only\">\n\t\t\t\t\t\t\t<div class=\"circle-clipper left\">\n\t\t\t\t\t\t\t\t<div class=\"circle\"></div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"gap-patch\">\n\t\t\t\t\t\t\t\t<div class=\"circle\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"circle-clipper right\">\n\t\t\t\t\t\t\t\t<div class=\"circle\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col m1\">\n\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t<div class=\"card-body\" style=\"padding-top: 10px; padding-bottom: 10px; padding-left: 10px;\">\n\t\t\t\t\t\t\t<p style=\"cursor: pointer;\" v-on:click=\"onclickCategory\">All</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"card\" v-for=\"category in categories\">\n\t\t\t\t\t\t<div class=\"card-body\" style=\"padding-top: 10px; padding-bottom: 10px; padding-left: 10px;\">\n\t\t\t\t\t\t\t<p v-text=\"category\" style=\"cursor: pointer;\" v-on:click=\"onclickCategory\"></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"col m11\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col m4\" v-for=\"(product) in products\" v-bind:key=\"product._id\">\n\t\t\t\t\t\t\t<div class=\"card blue-grey darken-1\">\n\t\t\t\t\t\t\t\t<div class=\"card-content white-text\">\n\t\t\t\t\t\t\t\t\t<img v-if=\"product.images.length > 0\" v-bind:src=\"this.$apiURL + '/' + product.images[0]\" style=\"width: 100%; height: 300px; object-fit: contain;\" />\n\t\t\t\t\t\t\t\t\t<span class=\"card-title\" v-text=\"product.name\"></span>\n\t\t\t\t\t\t\t\t\t<p>â‚¬<span v-text=\"product.price\"></span></p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"card-action\">\n\t\t\t\t\t\t\t\t\t<router-link v-bind:to=\"'/product/' + product._id\">More detail</router-link>\n\n\t\t\t\t\t\t\t\t\t<span style=\"float: right; color: white;\">In stock: <span v-text=\"product.itemsInStock || 0\"></span></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col offset-m6 m4\">\n\t\t\t\t\t<button type=\"button\" class=\"waves-effect waves-light btn\" v-on:click=\"loadMore\" ref=\"btnLoadMore\">Load more</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport axios from \"axios\"\n    import swal from \"sweetalert2\"\n    import store from \"../vuex/store\"\n\n\texport default {\n\t\tdata() {\n            return {\n                page: 1,\n                products: [],\n                sortBy: \"\",\n                categories: [],\n                category: \"\",\n                isLoading: false\n            }\n        },\n\n        computed: {\n        \tsearch: function () {\n        \t\treturn store.getters.getSearch\n        \t}\n        },\n\n        methods: {\n        \tonchangeSortBy: function () {\n        \t\tthis.page = 1\n        \t\tthis.sortBy = event.target.value\n        \t\tthis.getData()\n        \t},\n\n        \tonclickCategory: function () {\n        \t\tthis.page = 1\n        \t\tthis.category = event.target.innerHTML\n        \t\tthis.getData()\n        \t},\n\n        \tloadMore: function () {\n        \t\tthis.$refs.btnLoadMore.setAttribute(\"disabled\", \"disabled\")\n\n        \t\tthis.page++\n        \t\tthis.getData()\n        \t},\n\n        \tgetConfigurations: async function () {\n        \t\tconst response = await axios.post(\n                    this.$apiURL + \"/getConfigurations\",\n                    null\n                )\n\n                if (response.data.status == \"success\") {\n                    const configurations = response.data.configurations\n                    this.categories = configurations.categories || []\n                }\n        \t},\n\n            getData: async function () {\n            \tthis.isLoading = true\n\n                const formData = new FormData()\n                formData.append(\"page\", this.page)\n                formData.append(\"sortBy\", this.sortBy)\n                formData.append(\"category\", this.category)\n                formData.append(\"search\", this.search)\n\n                const response = await axios.post(\n                    this.$apiURL + \"/products/fetch\",\n                    formData\n                )\n\n                this.isLoading = false\n                this.$refs.btnLoadMore.removeAttribute(\"disabled\")\n\n                if (response.data.status == \"success\") {\n                \tthis.products = response.data.products\n                } else {\n                    swal.fire(\"Error\", response.data.message, \"error\")\n                }\n            }\n        },\n\n        mounted: function () {\n        \tthis.getConfigurations()\n            this.getData()\n\n        \tvar elems = document.querySelectorAll('select')\n\t\t    var instances = M.FormSelect.init(elems, {})\n        },\n\n        watch: {\n        \tsearch: function (to, from) {\n        \t\tthis.getData()\n        \t}\n        }\t\n\t}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}