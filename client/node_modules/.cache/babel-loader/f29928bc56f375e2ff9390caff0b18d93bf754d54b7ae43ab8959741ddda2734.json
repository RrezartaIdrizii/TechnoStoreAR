{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport store from \"../vuex/store\";\nexport default {\n  data() {\n    return {\n      \"isLoading\": false\n    };\n  },\n  methods: {\n    doLogin: async function () {\n      const form = event.target;\n      const formData = new FormData(form);\n      this.isLoading = true;\n      const response = await axios.post(this.$apiURL + \"/login\", formData);\n      this.isLoading = false;\n      swal.fire(\"Login\", response.data.message, response.data.status);\n      if (response.data.status == \"success\") {\n        form.reset();\n\n        // get access token from server\n        const accessToken = response.data.accessToken;\n        // save in local storage\n        localStorage.setItem(this.$accessTokenKey, accessToken);\n        this.$headers = {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + accessToken\n        };\n        store.commit(\"setLogin\", true);\n        store.commit(\"setUser\", response.data.user);\n        setTimeout(function () {\n          var elems = document.querySelectorAll('.dropdown-trigger');\n          var instances = M.Dropdown.init(elems, {});\n        }, 500);\n        this.$router.push(\"/\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","swal","store","data","methods","doLogin","form","event","target","formData","FormData","isLoading","response","post","$apiURL","fire","message","status","reset","accessToken","localStorage","setItem","$accessTokenKey","$headers","commit","user","setTimeout","elems","document","querySelectorAll","instances","M","Dropdown","init","$router","push"],"sources":["C:\\Users\\PULSE Electronics\\OneDrive\\Desktop\\TechnoStoreAR\\client\\src\\components\\LoginComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"section no-pad-bot\" id=\"index-banner\">\r\n        <div class=\"container\" style=\"margin-bottom: 50px;\">\r\n            <div class=\"row\">\r\n                <div class=\"col offset-m3 m6\">\r\n                    <h1 class=\"text-center\" style=\"margin-bottom: 50px; text-align: center;\">Login</h1>\r\n\r\n                    <form method=\"POST\" v-on:submit.prevent=\"doLogin\">\r\n                        <div class=\"form-group\">\r\n                            <label class=\"text-white\">Enter email</label>\r\n                            <input type=\"email\" class=\"form-control\" name=\"email\" autocomplete=\"off\" />\r\n                        </div>\r\n\r\n                        <br />\r\n\r\n                        <div class=\"form-group\">\r\n                            <label class=\"text-white\">Enter password</label>\r\n                            <input type=\"password\" class=\"form-control\" name=\"password\" autocomplete=\"off\" />\r\n                        </div>\r\n\r\n                        <br />\r\n\r\n                        <input type=\"submit\" value=\"Login\" v-bind:disabled=\"isLoading\" name=\"submit\" class=\"btn btn-primary\" />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import axios from \"axios\"\r\n    import swal from \"sweetalert2\"\r\n    import store from \"../vuex/store\"\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                \"isLoading\": false\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            doLogin: async function () {\r\n                const form = event.target\r\n                const formData = new FormData(form)\r\n\r\n                this.isLoading = true\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/login\",\r\n                    formData\r\n                )\r\n                \r\n                this.isLoading = false\r\n                swal.fire(\"Login\", response.data.message, response.data.status)\r\n\r\n                if (response.data.status == \"success\") {\r\n                    form.reset()\r\n\r\n                    // get access token from server\r\n                    const accessToken = response.data.accessToken\r\n                    // save in local storage\r\n                    localStorage.setItem(this.$accessTokenKey, accessToken)\r\n\r\n                    this.$headers = {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': 'Bearer ' + accessToken\r\n                    }\r\n\r\n                    store.commit(\"setLogin\", true)\r\n                    store.commit(\"setUser\", response.data.user)\r\n\r\n                    setTimeout(function () {\r\n                      var elems = document.querySelectorAll('.dropdown-trigger')\r\n                      var instances = M.Dropdown.init(elems, {})\r\n                    }, 500)\r\n\r\n                    this.$router.push(\"/\")\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    label {\r\n        font-size: initial;\r\n    }\r\n</style>"],"mappings":";AAgCI,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,aAAY;AAC7B,OAAOC,KAAI,MAAO,eAAc;AAEhC,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACH,WAAW,EAAE;IACjB;EACJ,CAAC;EAEDC,OAAO,EAAE;IACLC,OAAO,EAAE,eAAAA,CAAA,EAAkB;MACvB,MAAMC,IAAG,GAAIC,KAAK,CAACC,MAAK;MACxB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAACJ,IAAI;MAElC,IAAI,CAACK,SAAQ,GAAI,IAAG;MAEpB,MAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAC7B,IAAI,CAACC,OAAM,GAAI,QAAQ,EACvBL,QAAO,CACX;MAEA,IAAI,CAACE,SAAQ,GAAI,KAAI;MACrBV,IAAI,CAACc,IAAI,CAAC,OAAO,EAAEH,QAAQ,CAACT,IAAI,CAACa,OAAO,EAAEJ,QAAQ,CAACT,IAAI,CAACc,MAAM;MAE9D,IAAIL,QAAQ,CAACT,IAAI,CAACc,MAAK,IAAK,SAAS,EAAE;QACnCX,IAAI,CAACY,KAAK,EAAC;;QAEX;QACA,MAAMC,WAAU,GAAIP,QAAQ,CAACT,IAAI,CAACgB,WAAU;QAC5C;QACAC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,eAAe,EAAEH,WAAW;QAEtD,IAAI,CAACI,QAAO,GAAI;UACZ,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,SAAQ,GAAIJ;QACjC;QAEAjB,KAAK,CAACsB,MAAM,CAAC,UAAU,EAAE,IAAI;QAC7BtB,KAAK,CAACsB,MAAM,CAAC,SAAS,EAAEZ,QAAQ,CAACT,IAAI,CAACsB,IAAI;QAE1CC,UAAU,CAAC,YAAY;UACrB,IAAIC,KAAI,GAAIC,QAAQ,CAACC,gBAAgB,CAAC,mBAAmB;UACzD,IAAIC,SAAQ,GAAIC,CAAC,CAACC,QAAQ,CAACC,IAAI,CAACN,KAAK,EAAE,CAAC,CAAC;QAC3C,CAAC,EAAE,GAAG;QAEN,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC,GAAG;MACzB;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}