{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport store from \"../vuex/store\";\nexport default {\n  data() {\n    return {\n      products: []\n    };\n  },\n  computed: {\n    total: function () {\n      let total = 0;\n      for (let a = 0; a < this.products.length; a++) {\n        total += this.products[a].units * this.products[a].price;\n      }\n      return total;\n    }\n  },\n  methods: {\n    unitChanged: function () {\n      const target = event.target;\n      const _id = target.getAttribute(\"data-id\");\n      const units = parseInt(target.value);\n      const cookieParts = document.cookie.split(\"; \");\n      for (let a = 0; a < cookieParts.length; a++) {\n        const keyValue = cookieParts[a].split(\"=\");\n        if (keyValue[0] == \"products\") {\n          const products = JSON.parse(keyValue[1]);\n          for (let b = 0; b < products.length; b++) {\n            if (products[b]._id == _id) {\n              products[b].units = units;\n              document.cookie = \"products=\" + JSON.stringify(products);\n              this.products = products;\n            }\n          }\n        }\n      }\n    },\n    removeFromCart: function () {\n      const button = event.target;\n      const _id = button.getAttribute(\"data-id\");\n      const cookieParts = document.cookie.split(\"; \");\n      for (let a = 0; a < cookieParts.length; a++) {\n        const keyValue = cookieParts[a].split(\"=\");\n        if (keyValue[0] == \"products\") {\n          const products = JSON.parse(keyValue[1]);\n          for (let b = 0; b < products.length; b++) {\n            if (products[b]._id == _id) {\n              products.splice(b, 1);\n              document.cookie = \"products=\" + JSON.stringify(products);\n              this.products = products;\n              store.commit(\"setCartCounter\", products.length);\n              return;\n            }\n          }\n        }\n      }\n    }\n  },\n  mounted: async function () {\n    const cookieParts = document.cookie.split(\"; \");\n    for (let a = 0; a < cookieParts.length; a++) {\n      const keyValue = cookieParts[a].split(\"=\");\n      if (keyValue[0] == \"products\") {\n        const products = JSON.parse(keyValue[1]);\n        this.products = products;\n      }\n    }\n    document.addEventListener('DOMContentLoaded', function () {\n      var elems = document.querySelectorAll('.collapsible');\n      var instances = M.Collapsible.init(elems, {});\n    });\n  }\n};","map":{"version":3,"names":["axios","swal","store","data","products","computed","total","a","length","units","price","methods","unitChanged","target","event","_id","getAttribute","parseInt","value","cookieParts","document","cookie","split","keyValue","JSON","parse","b","stringify","removeFromCart","button","splice","commit","mounted","addEventListener","elems","querySelectorAll","instances","M","Collapsible","init"],"sources":["C:\\Users\\arbid\\OneDrive\\Desktop\\TechnoStoreAR-main\\client\\src\\components\\CartComponent.vue"],"sourcesContent":["<template>\n\t<div class=\"section no-pad-bot\" id=\"index-banner\">\n\t\t<div class=\"container\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col m12\">\n\t\t\t\t\t<h1 class=\"text-center\">Cart</h1>\n\n\t\t\t\t\t<div class=\"card\">\n\n\t                    <div class=\"card-body\">\n\t                        <div class=\"table-responsive p-0\">\n\t                            <table class=\"table align-items-center justify-content-center mb-0\" id=\"products-table\">\n\t                                <thead>\n\t                                    <tr>\n\t                                        <th>Name</th>\n\t                                        <th>Price</th>\n\t                                        <th>Units</th>\n\t                                        <th>Total</th>\n\t                                        <th>Actions</th>\n\t                                    </tr>\n\t                                </thead>\n\n\t                                <tbody>\n\t                                    <tr v-for=\"(product, index) in products\" v-bind:key=\"product._id\">\n\t                                    \t<td v-text=\"product.name\"></td>\n\t                                    \t<td v-text=\"'€' + product.price\"></td>\n\t                                    \t<td>\n\t                                    \t\t<input type=\"number\" min=\"0\" name=\"unit\" v-bind:value=\"product.units\" v-bind:data-id=\"product._id\" v-on:change=\"unitChanged\" />\n\t                                    \t</td>\n\t                                    \t<td v-text=\"'€' + (product.price * product.units)\"></td>\n\t                                    \t<td>\n\t                                    \t\t<button type=\"button\" class=\"waves-effect waves-light red btn\" v-on:click=\"removeFromCart\" v-bind:data-id=\"product._id\">Remove from cart</button>\n\t                                    \t</td>\n\t                                    </tr>\n\t                                </tbody>\n\n\t                                <tfoot>\n\t                                \t<tr>\n\t                                \t\t<td colspan=\"4\" style=\"text-align: right;\">\n\t                                \t\t\t<div style=\"margin-right: 20px;\">\n\t                                \t\t\t\t<b>Total: </b>\n\t                                \t\t\t\t€<span v-text=\"total\"></span>\n\t                                \t\t\t</div>\n\t                                \t\t</td>\n\n\t                                \t\t<td>\n\t                                \t\t\t<router-link class=\"waves-effect waves-light btn\" to=\"/checkout\">\n\t                                \t\t\t\tCheckout\n\t                                \t\t\t</router-link>\n\t                                \t\t</td>\n\t                                \t</tr>\n\t                                </tfoot>\n\t                            </table>\n\t                        </div>\n\t                    </div>\n\t                </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\n    import axios from \"axios\"\n    import swal from \"sweetalert2\"\n    import store from \"../vuex/store\"\n\n    export default {\n        data() {\n            return {\n                products: []\n            }\n        },\n\n        computed: {\n        \ttotal: function () {\n        \t\tlet total = 0\n        \t\tfor (let a = 0; a < this.products.length; a++) {\n        \t\t\ttotal += (this.products[a].units * this.products[a].price)\n        \t\t}\n        \t\treturn total\n        \t}\n        },\n\n        methods: {\n        \tunitChanged: function () {\n        \t\tconst target = event.target\n        \t\tconst _id = target.getAttribute(\"data-id\")\n        \t\tconst units = parseInt(target.value)\n\n        \t\tconst cookieParts = document.cookie.split(\"; \")\n\t\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\n\t\t\t\t\tif (keyValue[0] == \"products\") {\n\t\t\t\t\t\tconst products = JSON.parse(keyValue[1])\n\t\t\t\t\t\tfor (let b = 0; b < products.length; b++) {\n\t\t\t\t\t\t\tif (products[b]._id == _id) {\n\t\t\t\t\t\t\t\tproducts[b].units = units\n\t\t\t\t\t\t\t\tdocument.cookie = \"products=\" + JSON.stringify(products)\n\t\t\t\t\t\t\t\tthis.products = products\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n        \t},\n\n        \tremoveFromCart: function () {\n        \t\tconst button = event.target\n        \t\tconst _id = button.getAttribute(\"data-id\")\n\n        \t\tconst cookieParts = document.cookie.split(\"; \")\n\t\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\n\t\t\t\t\tif (keyValue[0] == \"products\") {\n\t\t\t\t\t\tconst products = JSON.parse(keyValue[1])\n\t\t\t\t\t\tfor (let b = 0; b < products.length; b++) {\n\t\t\t\t\t\t\tif (products[b]._id == _id) {\n\t\t\t\t\t\t\t\tproducts.splice(b, 1)\n\t\t\t\t\t\t\t\tdocument.cookie = \"products=\" + JSON.stringify(products)\n\t\t\t\t\t\t\t\tthis.products = products\n\t\t\t\t\t\t\t\tstore.commit(\"setCartCounter\", products.length)\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n        \t}\n        },\n\n        mounted: async function () {\n        \tconst cookieParts = document.cookie.split(\"; \")\n\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\n\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\n\t\t\t\tif (keyValue[0] == \"products\") {\n\t\t\t\t\tconst products = JSON.parse(keyValue[1])\n\t\t\t\t\tthis.products = products\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t    \tvar elems = document.querySelectorAll('.collapsible')\n\t\t\t    var instances = M.Collapsible.init(elems, {})\n\t\t\t})\n        }\n    }\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}