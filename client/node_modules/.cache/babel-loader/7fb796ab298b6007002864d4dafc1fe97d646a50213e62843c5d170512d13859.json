{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"section no-pad-bot\",\n  id: \"index-banner\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col m8\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center\"\n}, \"Checkout\")])], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"row\"\n};\nconst _hoisted_5 = {\n  class: \"col m8\"\n};\nconst _hoisted_6 = {\n  class: \"card\"\n};\nconst _hoisted_7 = {\n  class: \"card-body\",\n  style: {\n    \"padding\": \"20px\"\n  }\n};\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  key: 1\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"stripe-card-element\",\n  style: {\n    \"padding-top\": \"20px\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"input-field col m6\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Name\", -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"input-field col m6\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"E-mail\", -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"input-field col m6\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"mobile\"\n}, \"Mobile\", -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"input-field col m6\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"country\"\n}, \"Country\", -1 /* HOISTED */);\nconst _hoisted_19 = {\n  class: \"input-field col m6\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"address\"\n}, \"Address\", -1 /* HOISTED */);\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Or\", -1 /* HOISTED */);\nconst _hoisted_22 = [\"textContent\"];\nconst _hoisted_23 = [\"disabled\"];\nconst _hoisted_24 = {\n  class: \"col m4\"\n};\nconst _hoisted_25 = {\n  class: \"card\"\n};\nconst _hoisted_26 = {\n  class: \"card-body\"\n};\nconst _hoisted_27 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_28 = {\n  class: \"table align-items-center justify-content-center mb-0\",\n  id: \"products-table\"\n};\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Price\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Total\")])], -1 /* HOISTED */);\nconst _hoisted_30 = [\"textContent\"];\nconst _hoisted_31 = [\"textContent\"];\nconst _hoisted_32 = [\"textContent\"];\nconst _hoisted_33 = {\n  colspan: \"4\",\n  style: {\n    \"text-align\": \"right\"\n  }\n};\nconst _hoisted_34 = {\n  style: {\n    \"margin-right\": \"20px\"\n  }\n};\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"b\", null, \"Total: \", -1 /* HOISTED */);\nconst _hoisted_36 = [\"textContent\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [$data.cartEmpty ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \"The cart is empty.\")) : (_openBlock(), _createElementBlock(\"form\", _hoisted_9, [_createCommentVNode(\" credit card UI will be rendered here \"), _hoisted_10, _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"name\",\n    name: \"name\",\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.name]]), _hoisted_12]), _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"email\",\n    name: \"email\",\n    type: \"email\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.email = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _hoisted_14]), _createElementVNode(\"div\", _hoisted_15, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"mobile\",\n    name: \"mobile\",\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.mobile = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.mobile]]), _hoisted_16]), _createElementVNode(\"div\", _hoisted_17, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"country\",\n    name: \"country\",\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.country = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.country]]), _hoisted_18]), _createElementVNode(\"div\", _hoisted_19, [_withDirectives(_createElementVNode(\"textarea\", {\n    id: \"address\",\n    name: \"address\",\n    class: \"materialize-textarea\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.address = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.address]]), _hoisted_20]), _createCommentVNode(\" <button type=\\\"button\\\" class=\\\"waves-effect waves-light btn\\\" v-on:click=\\\"getStripeClientSecret\\\" style=\\\"margin-bottom: 20px;\\\" v-bind:disabled=\\\"paymentLoading\\\">Pay via stripe</button> \"), _hoisted_21, _createCommentVNode(\" paypal button will be rendered here using Javascript \"), _createCommentVNode(\" <div id=\\\"btn-paypal-checkout\\\"></div> \"), _createElementVNode(\"p\", {\n    textContent: _toDisplayString($data.paymentStatus)\n  }, null, 8 /* PROPS */, _hoisted_22), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"waves-effect waves-light btn\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.cashOnDelivery && $options.cashOnDelivery(...args)),\n    style: {\n      \"margin-bottom\": \"20px\"\n    },\n    disabled: $data.paymentLoading\n  }, \"Cash on delivery\", 8 /* PROPS */, _hoisted_23)]))])])]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"table\", _hoisted_28, [_hoisted_29, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, (product, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: product._id\n    }, [_createElementVNode(\"td\", {\n      textContent: _toDisplayString(product.name)\n    }, null, 8 /* PROPS */, _hoisted_30), _createElementVNode(\"td\", {\n      textContent: _toDisplayString('€' + product.price + ' x ' + product.units)\n    }, null, 8 /* PROPS */, _hoisted_31), _createElementVNode(\"td\", {\n      textContent: _toDisplayString('€' + product.price * product.units)\n    }, null, 8 /* PROPS */, _hoisted_32)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"tfoot\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"td\", _hoisted_33, [_createElementVNode(\"div\", _hoisted_34, [_hoisted_35, _createTextVNode(\" €\"), _createElementVNode(\"span\", {\n    textContent: _toDisplayString($data.total)\n  }, null, 8 /* PROPS */, _hoisted_36)])])])])])])])])])])])]);\n}","map":{"version":3,"names":["class","id","_createElementVNode","style","for","colspan","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","$data","cartEmpty","_hoisted_8","_hoisted_9","_createCommentVNode","_hoisted_10","_hoisted_11","name","type","required","$event","_hoisted_12","_hoisted_13","email","_hoisted_14","_hoisted_15","mobile","_hoisted_16","_hoisted_17","country","_hoisted_18","_hoisted_19","address","_hoisted_20","_hoisted_21","_toDisplayString","paymentStatus","onClick","_cache","args","$options","cashOnDelivery","disabled","paymentLoading","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_Fragment","_renderList","products","product","index","key","_id","price","units","_hoisted_33","_hoisted_34","_hoisted_35","total"],"sources":["C:\\Users\\PULSE Electronics\\OneDrive\\Desktop\\TechnoStoreAR\\client\\src\\components\\CheckoutComponent.vue"],"sourcesContent":["<template>\r\n\t<div class=\"section no-pad-bot\" id=\"index-banner\">\r\n\t\t<div class=\"container\">\r\n\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col m8\">\r\n\t\t\t\t\t<h1 class=\"text-center\">Checkout</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col m8\">\r\n\t\t\t\t\t<div class=\"card\">\r\n\r\n\t                    <div class=\"card-body\" style=\"padding: 20px;\">\r\n\t                    \t<p v-if=\"cartEmpty\">The cart is empty.</p>\r\n\r\n\t                    \t<form v-else>\r\n\t                    \t\t<!-- credit card UI will be rendered here -->\r\n\t\t\t\t\t\t\t\t<div id=\"stripe-card-element\" style=\"padding-top: 20px;\"></div>\r\n\r\n\t                    \t\t<div class=\"input-field col m6\">\r\n\t\t\t\t\t\t\t\t\t<input id=\"name\" name=\"name\" type=\"text\" required v-model=\"name\" />\r\n\t\t\t\t\t\t\t\t\t<label for=\"name\">Name</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"input-field col m6\">\r\n\t\t\t\t\t\t\t\t\t<input id=\"email\" name=\"email\" type=\"email\" required v-model=\"email\" />\r\n\t\t\t\t\t\t\t\t\t<label for=\"email\">E-mail</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"input-field col m6\">\r\n\t\t\t\t\t\t\t\t\t<input id=\"mobile\" name=\"mobile\" type=\"text\" required v-model=\"mobile\" />\r\n\t\t\t\t\t\t\t\t\t<label for=\"mobile\">Mobile</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"input-field col m6\">\r\n\t\t\t\t\t\t\t\t\t<input id=\"country\" name=\"country\" type=\"text\" required v-model=\"country\" />\r\n\t\t\t\t\t\t\t\t\t<label for=\"country\">Country</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"input-field col m6\">\r\n\t\t\t\t\t\t\t\t\t<textarea id=\"address\" name=\"address\" class=\"materialize-textarea\" required v-model=\"address\"></textarea>\r\n\t\t\t\t\t\t\t\t\t<label for=\"address\">Address</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<!-- <button type=\"button\" class=\"waves-effect waves-light btn\" v-on:click=\"getStripeClientSecret\" style=\"margin-bottom: 20px;\" v-bind:disabled=\"paymentLoading\">Pay via stripe</button> -->\r\n\r\n\t\t\t\t\t\t\t\t<p>Or</p>\r\n\r\n\t\t\t\t\t\t\t\t<!-- paypal button will be rendered here using Javascript -->\r\n\t\t\t\t\t\t\t\t<!-- <div id=\"btn-paypal-checkout\"></div> -->\r\n\r\n\t\t\t\t\t\t\t\t<p v-text=\"paymentStatus\"></p>\r\n\r\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"waves-effect waves-light btn\" v-on:click=\"cashOnDelivery\" style=\"margin-bottom: 20px;\" v-bind:disabled=\"paymentLoading\">Cash on delivery</button>\r\n\t                    \t</form>\r\n\t                    </div>\r\n\t                </div>\r\n\t            </div>\r\n\r\n\t            <div class=\"col m4\">\r\n\t            \t<div class=\"card\">\r\n\t            \t\t<div class=\"card-body\">\r\n\t            \t\t\t<div class=\"table-responsive\">\r\n\t\t                        <table class=\"table align-items-center justify-content-center mb-0\" id=\"products-table\">\r\n\t\t                            <thead>\r\n\t\t                                <tr>\r\n\t\t                                    <th>Name</th>\r\n\t\t                                    <th>Price</th>\r\n\t\t                                    <th>Total</th>\r\n\t\t                                </tr>\r\n\t\t                            </thead>\r\n\r\n\t\t                            <tbody>\r\n\t\t                                <tr v-for=\"(product, index) in products\" v-bind:key=\"product._id\">\r\n\t\t                                \t<td v-text=\"product.name\"></td>\r\n\t\t                                \t<td v-text=\"'€' + product.price + ' x ' + product.units\"></td>\r\n\t\t                                \t<td v-text=\"'€' + (product.price * product.units)\"></td>\r\n\t\t                                </tr>\r\n\t\t                            </tbody>\r\n\r\n\t\t                            <tfoot>\r\n\r\n\t\t                            \t<tr>\r\n\t\t                            \t\t<td colspan=\"4\" style=\"text-align: right;\">\r\n\t\t                            \t\t\t<div style=\"margin-right: 20px;\">\r\n\t\t                            \t\t\t\t<b>Total: </b>\r\n\t\t                            \t\t\t\t€<span v-text=\"total\"></span>\r\n\t\t                            \t\t\t</div>\r\n\t\t                            \t\t</td>\r\n\t\t                            \t</tr>\r\n\t\t                            </tfoot>\r\n\t\t                        </table>\r\n\t\t                    </div>\r\n\t            \t\t</div>\r\n\t            \t</div>\r\n\t            </div>\r\n\t        </div>\r\n\t    </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\n\timport axios from \"axios\"\r\n\timport swal from \"sweetalert2\"\r\n\timport store from \"../vuex/store\"\r\n\timport { loadScript } from \"@paypal/paypal-js\"\r\n\r\n    export default {\r\n    \tdata() {\r\n    \t\treturn {\r\n    \t\t\tclientSecret: \"\",\r\n    \t\t\tcardElement: null,\r\n    \t\t\tstripe: null,\r\n    \t\t\temail: \"\",\r\n    \t\t\tname: \"\",\r\n    \t\t\tmobile: \"\",\r\n    \t\t\taddress: \"\",\r\n    \t\t\tcountry: \"\",\r\n    \t\t\tpaymentLoading: false,\r\n    \t\t\tpaymentStatus: \"\",\r\n    \t\t\tcartEmpty: false,\r\n    \t\t\ttotal: 0,\r\n    \t\t\tproducts: []\r\n    \t\t}\r\n    \t},\r\n\r\n    \tmethods: {\r\n    \t\tcashOnDelivery: function () {\r\n    \t\t\tconst self = this\r\n    \t\t\tswal.fire({\r\n\t\t\t\t\ttitle: 'Cash on delivery',\r\n\t\t\t\t\ttext: \"I want to process my order on cash on delivery.\",\r\n\t\t\t\t\ticon: 'warning',\r\n\t\t\t\t\tshowCancelButton: true,\r\n\t\t\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\t\t\tcancelButtonColor: '#d33',\r\n\t\t\t\t\tconfirmButtonText: 'Yes'\r\n\t\t\t\t})\r\n    \t\t\t.then(async function (result) {\r\n\t\t\t\t\tif (result.isConfirmed) {\r\n\t\t\t\t\t\tlet products = []\r\n\t\t    \t\t\tconst cookieParts = document.cookie.split(\"; \")\r\n\t\t    \t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\t\t\t\tproducts = keyValue[1]\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t    \t\t\tself.paymentLoading = true\r\n\t\t                self.paymentStatus = \"Processing your order...\"\r\n\r\n\t\t                const formData = new FormData()\r\n\t\t                formData.append(\"products\", products)\r\n\t\t                formData.append(\"name\", self.name)\r\n\t\t                formData.append(\"email\", self.email)\r\n\t\t                formData.append(\"mobile\", self.mobile)\r\n\t\t                formData.append(\"country\", self.country)\r\n\t\t                formData.append(\"address\", self.address)\r\n\r\n\t\t                const response = await axios.post(\r\n\t\t                    self.$apiURL + \"/cashOnDelivery\",\r\n\t\t                    formData\r\n\t\t                )\r\n\r\n\t\t                self.paymentLoading = false\r\n\t\t                self.paymentStatus = \"\"\r\n\r\n\t\t                if (response.data.status == \"success\") {\r\n\t\t                \tswal.fire(\"Success\", response.data.message, \"success\")\r\n\t\t                \tdocument.cookie = \"products=\" + JSON.stringify([])\r\n\t\t                \tstore.commit(\"setCartCounter\", 0)\r\n\t\t                \tself.cartEmpty = true\r\n\t\t                } else {\r\n\t\t                    swal.fire(\"Error\", response.data.message, \"error\")\r\n\t\t                }\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n    \t\t},\r\n    \t\t\r\n    \t\tpaidViaPaypal: async function(details) {\r\n    \t\t\tlet products = []\r\n    \t\t\tconst cookieParts = document.cookie.split(\"; \")\r\n    \t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\t\tproducts = keyValue[1]\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n    \t\t\tconst formData = new FormData()\r\n                formData.append(\"products\", products)\r\n                formData.append(\"details\", JSON.stringify(details))\r\n                formData.append(\"name\", this.name)\r\n                formData.append(\"email\", this.email)\r\n                formData.append(\"mobile\", this.mobile)\r\n                formData.append(\"country\", this.country)\r\n                formData.append(\"address\", this.address)\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/paidViaPaypal\",\r\n                    formData\r\n                )\r\n\r\n                this.paymentLoading = false\r\n                this.paymentStatus = \"\"\r\n\r\n                if (response.data.status == \"success\") {\r\n                \tswal.fire(\"Success\", response.data.message, \"success\")\r\n                \tdocument.cookie = \"products=\" + JSON.stringify([])\r\n                \tstore.commit(\"setCartCounter\", 0)\r\n                \tthis.cartEmpty = true\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n\t\t\t},\r\n\r\n    \t\tconfirmPayment: async function(paymentId) {\r\n    \t\t\tlet products = []\r\n    \t\t\tconst cookieParts = document.cookie.split(\"; \")\r\n    \t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\t\tproducts = keyValue[1]\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n    \t\t\tconst formData = new FormData()\r\n                formData.append(\"paymentId\", paymentId)\r\n                formData.append(\"products\", products)\r\n                formData.append(\"name\", this.name)\r\n                formData.append(\"email\", this.email)\r\n                formData.append(\"mobile\", this.mobile)\r\n                formData.append(\"country\", this.country)\r\n                formData.append(\"address\", this.address)\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/confirmStripePayment\",\r\n                    formData\r\n                )\r\n\r\n                this.paymentLoading = false\r\n                this.paymentStatus = \"\"\r\n\r\n                if (response.data.status == \"success\") {\r\n                \tswal.fire(\"Success\", response.data.message, \"success\")\r\n                \tdocument.cookie = \"products=\" + JSON.stringify([])\r\n                \tstore.commit(\"setCartCounter\", 0)\r\n                \tthis.cartEmpty = true\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n\t\t\t},\r\n\r\n    \t\tpayViaStripe: function() {\r\n    \t\t\tif (this.cardElement == null || this.stripe == null) {\r\n    \t\t\t\treturn\r\n    \t\t\t}\r\n\r\n    \t\t\tconst self = this\r\n\r\n\t\t\t    // execute the payment\r\n\t\t\t    this.stripe.confirmCardPayment(this.clientSecret, {\r\n\t\t            payment_method: {\r\n\t\t                    card: this.cardElement,\r\n\t\t                    billing_details: {\r\n\t\t                        \"email\": this.email,\r\n\t\t                        \"name\": this.name,\r\n\t\t                        \"phone\": this.mobile\r\n\t\t                    },\r\n\t\t                },\r\n\t\t            })\r\n\t\t            .then(function(result) {\r\n\r\n\t\t                // Handle result.error or result.paymentIntent\r\n\t\t                if (result.error) {\r\n\t\t                    // console.log(result.error)\r\n\t\t                    self.paymentLoading = false\r\n\t\t                    self.paymentStatus = result.error\r\n\t\t                } else {\r\n\t\t                    // console.log(\"The card has been verified successfully...\", result.paymentIntent.id)\r\n\r\n\t\t                    self.confirmPayment(result.paymentIntent.id)\r\n\t\t                }\r\n\t\t            })\r\n\t\t\t},\r\n\r\n    \t\tgetStripeClientSecret: async function () {\r\n    \t\t\tthis.paymentLoading = true\r\n    \t\t\tthis.paymentStatus = \"Processing your payment...\"\r\n\r\n    \t\t\tconst formData = new FormData()\r\n                formData.append(\"total\", this.total)\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/getStripeClientSecret\",\r\n                    formData\r\n                )\r\n\r\n                if (response.data.status == \"success\") {\r\n                \tthis.clientSecret = response.data.clientSecret\r\n                \tthis.payViaStripe()\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n\r\n                    this.paymentLoading = false\r\n                    this.paymentStatus = \"\"\r\n                }\r\n            }\r\n    \t},\r\n\r\n    \tmounted: async function () {\r\n    \t\tconst self = this\r\n    \t\tconst cookieParts = document.cookie.split(\"; \")\r\n\t\t\tthis.total = 0\r\n\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\tconst products = JSON.parse(keyValue[1])\r\n\t\t\t\t\tthis.products = products\r\n\t\t\t\t\tfor (let a = 0; a < products.length; a++) {\r\n\t        \t\t\tthis.total += (products[a].units * products[a].price)\r\n\t        \t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst response = await axios.post(\r\n                this.$apiURL + \"/getConfigurations\",\r\n                null\r\n            )\r\n\r\n            if (response.data.status == \"success\") {\r\n                let configurations = response.data.configurations\r\n                if (configurations != null) {\r\n                    const user = store.getters.getUser\r\n                    if (user != null) {\r\n                    \tthis.name = user.name\r\n                    \tthis.email = user.email\r\n                    }\r\n                }\r\n            }\r\n\r\n\t\t\tif (this.total == 0) {\r\n\t\t\t\tthis.cartEmpty = true\r\n\t\t\t} else {\r\n\t\t\t\tthis.cartEmpty = false\r\n\r\n\t\t\t\tconst response = await axios.post(\r\n                    this.$apiURL + \"/getConfigurations\",\r\n                    null\r\n                )\r\n\r\n                if (response.data.status == \"success\") {\r\n                \tthis.stripe = Stripe(response.data.configurations.stripePublishableKey)\r\n\t\t\t        let elements = this.stripe.elements()\r\n\t\t\t        this.cardElement = elements.create('card')\r\n\t\t\t        this.cardElement.mount('#stripe-card-element')\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t    let paypal = await loadScript({ \"client-id\": response.data.configurations.paypalClientId })\r\n\r\n\t\t\t\t\t    try {\r\n\t\t\t\t\t        await paypal.Buttons({\r\n\r\n\t\t\t\t\t            // Set your environment\r\n\t\t\t\t\t            env: 'sandbox', // sandbox | production\r\n\r\n\t\t\t\t\t            // Specify the style of the button\r\n\t\t\t\t\t            style: {\r\n\t\t\t\t\t                label: 'checkout',\r\n\t\t\t\t\t                size: 'medium', // small | medium | large | responsive\r\n\t\t\t\t\t                shape: 'pill', // pill | rect\r\n\t\t\t\t\t                color: 'gold', // gold | blue | silver | black,\r\n\t\t\t\t\t                layout: 'horizontal'\r\n\t\t\t\t\t            },\r\n\r\n\t\t\t\t\t            // PayPal Client IDs - replace with your own\r\n\t\t\t\t\t            // Create a PayPal app: https://developer.paypal.com/developer/applications/create\r\n\r\n\t\t\t\t\t            client: {\r\n\t\t\t\t\t                sandbox: response.data.configurations.paypalClientId,\r\n\t\t\t\t\t                production: response.data.configurations.paypalClientId\r\n\t\t\t\t\t            },\r\n\r\n\t\t\t\t\t            funding: {\r\n\t\t\t\t\t                allowed: [\r\n\t\t\t\t\t                    paypal.FUNDING.CARD,\r\n\t\t\t\t\t                    paypal.FUNDING.ELV\r\n\t\t\t\t\t                ]\r\n\t\t\t\t\t            },\r\n\r\n\t\t\t\t\t            createOrder: function(data, actions) {\r\n\t\t\t\t\t\t\t\t\t// Set up the transaction\r\n\t\t\t\t\t\t\t\t\treturn actions.order.create({\r\n\t\t\t\t\t\t\t\t\t\tpurchase_units: [{\r\n\t\t\t\t\t\t\t\t\t\t\tamount: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: self.total,\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t    },\r\n\r\n\t\t\t\t\t\t\t    onApprove: function(data, actions) {\r\n\t\t\t\t\t\t\t\t\t// This function captures the funds from the transaction.\r\n\r\n\t\t\t\t\t\t\t\t\treturn actions.order.capture().then(function(details) {\r\n\t\t\t\t\t\t\t\t\t\t// This function shows a transaction success message to your buyer.\r\n\r\n\t\t\t\t\t\t\t\t\t\tself.paidViaPaypal(details)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t            \r\n\t\t\t\t\t            onCancel: function (data, actions) {\r\n\t\t\t\t\t                console.log(data)\r\n\t\t\t\t\t            }\r\n\r\n\t\t\t\t\t        }).render(\"#btn-paypal-checkout\")\r\n\t\t\t\t\t    } catch (error) {\r\n\t\t\t\t\t        console.error(\"failed to render the PayPal Buttons\", error)\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t    console.error(\"failed to load the PayPal JS SDK script\", error)\r\n\t\t\t\t\t}\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n\t\t\t}\r\n    \t}\r\n    }\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}