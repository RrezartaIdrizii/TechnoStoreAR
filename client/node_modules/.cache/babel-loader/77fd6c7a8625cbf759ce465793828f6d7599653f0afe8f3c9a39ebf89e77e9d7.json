{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-18c96e6a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"searchbar\"\n};\nconst _hoisted_3 = {\n  class: \"search-icons\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"fas fa-spinner fa-spin\"\n};\nconst _hoisted_5 = {\n  class: \"result-list\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  key: 1,\n  class: \"fas fa-image\"\n};\nconst _hoisted_9 = [\"innerHTML\"];\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"footer\", null, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-chevron-right\"\n})], -1 /* HOISTED */));\nconst _hoisted_11 = {\n  ref: \"infinitescrolltrigger\",\n  id: \"scroll-trigger\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"fas fa-spinner fa-spin\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.fetchSearchNews && $options.fetchSearchNews(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"search...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.searchword = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.searchword]])], 32 /* HYDRATE_EVENTS */), _createElementVNode(\"div\", _hoisted_3, [!_ctx.isBusy ? (_openBlock(), _createElementBlock(\"i\", {\n    key: 0,\n    class: \"fas fa-search\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.fetchSearchNews && $options.fetchSearchNews(...args))\n  })) : (_openBlock(), _createElementBlock(\"i\", _hoisted_4)), _createElementVNode(\"i\", {\n    class: \"fas fa-times\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.fetchTopNews && $options.fetchTopNews(...args))\n  })])]), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.articles, (article, index) => {\n    return _openBlock(), _createElementBlock(\"article\", {\n      key: index,\n      onClick: $event => $options.navTo(article.url)\n    }, [_createElementVNode(\"header\", null, [article.urlToImage ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: article.urlToImage,\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_7)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_8))]), _createElementVNode(\"section\", {\n      innerHTML: article.title\n    }, null, 8 /* PROPS */, _hoisted_9), _hoisted_10], 8 /* PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_11, [_ctx.showloader ? (_openBlock(), _createElementBlock(\"i\", _hoisted_12)) : _createCommentVNode(\"v-if\", true)], 512 /* NEED_PATCH */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","ref","id","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","fetchSearchNews","type","placeholder","_ctx","searchword","$event","_hoisted_3","isBusy","onClick","_hoisted_4","fetchTopNews","_hoisted_5","_Fragment","_renderList","articles","article","index","key","navTo","url","urlToImage","src","alt","_hoisted_8","innerHTML","title","_hoisted_10","_hoisted_11","showloader","_hoisted_12"],"sources":["C:\\Users\\PULSE Electronics\\OneDrive\\Desktop\\TechnoStoreAR\\client\\src\\components\\NewsComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n      <div class=\"searchbar\">\r\n        <form @submit.prevent=\"fetchSearchNews\">\r\n          <input type=\"text\" placeholder=\"search...\" v-model=\"searchword\">\r\n        </form>\r\n        <div class=\"search-icons\">\r\n          <i v-if=\"!isBusy\" class=\"fas fa-search\" @click=\"fetchSearchNews\"></i>\r\n          <i v-else class=\"fas fa-spinner fa-spin\"></i>\r\n          <i class=\"fas fa-times\" @click=\"fetchTopNews\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"result-list\">\r\n        <article v-for=\"(article, index) in articles\" :key=\"index\" @click=\"navTo(article.url)\">\r\n          <header>\r\n            <img v-if=\"article.urlToImage\" :src=\"article.urlToImage\" alt=\"\">\r\n            <i v-else class=\"fas fa-image\"></i>\r\n          </header>\r\n          <section v-html=\"article.title\"></section>\r\n          <footer>\r\n            <i class=\"fas fa-chevron-right\"></i>\r\n          </footer>\r\n        </article>\r\n      </div>\r\n      <div ref=\"infinitescrolltrigger\" id=\"scroll-trigger\">\r\n        <i v-if=\"showloader\" class=\"fas fa-spinner fa-spin\"></i>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n    export default {\r\n      props: [\r\n        'apiKey'\r\n      ],\r\n      data: () => {\r\n        return {\r\n          apiUrl: '',\r\n          isBusy: false,\r\n          showloader: false,\r\n          currentPage: 1,\r\n          totalResults: 0,\r\n          maxPerPage: 20,\r\n          searchword: '',\r\n          articles: [],\r\n          country: 'us'\r\n        }\r\n      },\r\n      computed: {\r\n        pageCount() {\r\n          return Math.ceil(this.totalResults/this.maxPerPage);\r\n        }\r\n      },\r\n      methods: {\r\n        navTo(url) {\r\n          window.open(url);\r\n        },\r\n        resetData() {\r\n          this.currentPage = 1;\r\n          this.articles = [];\r\n        },\r\n        fetchSearchNews() {\r\n          if(this.searchword !== '')\r\n          {\r\n            this.apiUrl = 'https://newsapi.org/v2/everything?q=' + this.searchword +\r\n                          '&pageSize=' + this.maxPerPage +\r\n                          '&apiKey=' + this.apiKey;\r\n            this.isBusy = true;\r\n            this.resetData();\r\n            this.fetchData();\r\n          }\r\n          else {\r\n            this.fetchTopNews();\r\n          }\r\n        },\r\n        fetchTopNews() {\r\n          this.apiUrl = 'https://newsapi.org/v2/top-headlines?country=' + this.country +\r\n                          '&pageSize=' + this.maxPerPage +\r\n                          '&apiKey=' + this.apiKey;\r\n          this.isBusy = true;\r\n          this.searchword = '';\r\n          \r\n          this.resetData();\r\n          this.fetchData();\r\n        },\r\n        fetchData() {\r\n          let req  = new Request(this.apiUrl + '&page=' + this.currentPage);\r\n          fetch(req)\r\n            .then((resp) => resp.json())\r\n            .then((data) => {\r\n              this.totalResults = data.totalResults;\r\n              data.articles.forEach(element => {\r\n                this.articles.push(element);\r\n              });\r\n              this.isBusy = false;\r\n              this.showloader = false;\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            })\r\n        },\r\n        scrollTrigger() {\r\n          const observer = new IntersectionObserver((entries) => {\r\n            entries.forEach(entry => {\r\n              if(entry.intersectionRatio > 0 && this.currentPage < this.pageCount) {\r\n                this.showloader = true;\r\n                this.currentPage += 1;\r\n                this.fetchData();\r\n              }\r\n            });\r\n          });\r\n          observer.observe(this.$refs.infinitescrolltrigger);\r\n        }\r\n      },\r\n      created() {\r\n        this.fetchTopNews();\r\n      },\r\n      mounted() {\r\n        this.scrollTrigger();\r\n      }\r\n    }\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped>\r\n    .container {\r\n      position: relative;\r\n      .searchbar {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        width: 100%;\r\n        height: 60px;\r\n        font-size: 1.6rem;\r\n        input {\r\n          padding: 0 100px 0 20px;\r\n          margin: 0;\r\n          width: calc(100% - 120px);\r\n          height: 60px;\r\n          border: none;\r\n          font-size: 2rem;\r\n          color: #fff;\r\n          background-color: #222;\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n        .search-icons {\r\n          position: absolute;\r\n          right: 20px;\r\n          top: 20px;\r\n          color: #fff;\r\n          i {\r\n            margin-left: 15px;\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n      .result-list {\r\n        padding-top: 60px;\r\n      }\r\n      article {\r\n        display: grid;\r\n        grid-template-columns: 200px auto 40px;\r\n        grid-template-rows: 100px;\r\n        border-bottom: 1px solid #ccc;\r\n        overflow: hidden;\r\n        cursor: pointer;\r\n        header {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          overflow: hidden;\r\n          img {\r\n            max-width: 100%;\r\n            height: auto;\r\n          }\r\n          i {\r\n            font-size: 2rem;\r\n          }\r\n        }\r\n        section {\r\n          margin: 0;\r\n          padding: 10px;\r\n          height: 100px;\r\n        }\r\n        footer {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          font-size: 1.6rem;\r\n          color: #888;\r\n        }\r\n      }\r\n      #scroll-trigger {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: 100px;\r\n        font-size: 1.6rem;\r\n      }\r\n    }\r\n  </style>"],"mappings":";;;EACSA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAW;;EAIfA,KAAK,EAAC;AAAc;;;EAEbA,KAAK,EAAC;;;EAIfA,KAAK,EAAC;AAAa;;;;;EAIRA,KAAK,EAAC;;;iEAGlBC,mBAAA,CAES,iB,aADPA,mBAAA,CAAoC;EAAjCD,KAAK,EAAC;AAAsB,G;;EAIhCE,GAAG,EAAC,uBAAuB;EAACC,EAAE,EAAC;;;;EACbH,KAAK,EAAC;;;uBAxB/BI,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJJ,mBAAA,CASM,OATNK,UASM,GARJL,mBAAA,CAEO;IAFAM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;sBACpCT,mBAAA,CAAgE;IAAzDY,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,WAAW;+DAAUC,IAAA,CAAAC,UAAU,GAAAC,MAAA;iDAAVF,IAAA,CAAAC,UAAU,E,8BAEhEf,mBAAA,CAIM,OAJNiB,UAIM,G,CAHMH,IAAA,CAAAI,MAAM,I,cAAhBf,mBAAA,CAAqE;;IAAnDJ,KAAK,EAAC,eAAe;IAAEoB,OAAK,EAAAZ,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;uBAC/DN,mBAAA,CAA6C,KAA7CiB,UAA6C,IAC7CpB,mBAAA,CAAkD;IAA/CD,KAAK,EAAC,cAAc;IAAEoB,OAAK,EAAAZ,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAW,YAAA,IAAAX,QAAA,CAAAW,YAAA,IAAAZ,IAAA,CAAY;UAGhDT,mBAAA,CAWM,OAXNsB,UAWM,I,kBAVJnB,mBAAA,CASUoB,SAAA,QAAAC,WAAA,CAT0BV,IAAA,CAAAW,QAAQ,GAA3BC,OAAO,EAAEC,KAAK;yBAA/BxB,mBAAA,CASU;MATqCyB,GAAG,EAAED,KAAK;MAAGR,OAAK,EAAAH,MAAA,IAAEN,QAAA,CAAAmB,KAAK,CAACH,OAAO,CAACI,GAAG;QAClF9B,mBAAA,CAGS,iBAFI0B,OAAO,CAACK,UAAU,I,cAA7B5B,mBAAA,CAAgE;;MAAhC6B,GAAG,EAAEN,OAAO,CAACK,UAAU;MAAEE,GAAG,EAAC;0DAC7D9B,mBAAA,CAAmC,KAAnC+B,UAAmC,G,GAErClC,mBAAA,CAA0C;MAAjCmC,SAAsB,EAAdT,OAAO,CAACU;yCACzBC,WAES,C;oCAGbrC,mBAAA,CAEM,OAFNsC,WAEM,GADKxB,IAAA,CAAAyB,UAAU,I,cAAnBpC,mBAAA,CAAwD,KAAxDqC,WAAwD,K"},"metadata":{},"sourceType":"module","externalDependencies":[]}