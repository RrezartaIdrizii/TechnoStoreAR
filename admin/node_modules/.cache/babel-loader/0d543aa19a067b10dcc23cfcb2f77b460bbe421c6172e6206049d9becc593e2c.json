{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      order: null,\n      orderId: this.$route.params._id\n    };\n  },\n  computed: {\n    totalOrder() {\n      if (this.order == null) {\n        return 0;\n      }\n      let total = 0;\n      for (let a = 0; a < this.order.cart.length; a++) {\n        total += parseInt(this.order.cart[a].price) * this.order.cart[a].units;\n      }\n      return total;\n    }\n  },\n  methods: {\n    getPaypalAddress: function (address) {\n      let value = address.address_line_1 + \" \" + address.admin_area_2 + \" \" + address.admin_area_1 + \" \" + address.postal_code + \" \" + address.country_code;\n      return value;\n    },\n    getData: async function () {\n      const formData = new FormData();\n      formData.append(\"orderId\", this.orderId);\n      const response = await axios.post(this.$apiURL + \"/admin/orders/fetchSingle\", formData, {\n        headers: this.$headers\n      });\n      if (response.data.status == \"success\") {\n        this.order = response.data.order;\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    }\n  },\n  mounted: function () {\n    this.getData();\n  }\n};","map":{"version":3,"names":["axios","swal","data","order","orderId","$route","params","_id","computed","totalOrder","total","a","cart","length","parseInt","price","units","methods","getPaypalAddress","address","value","address_line_1","admin_area_2","admin_area_1","postal_code","country_code","getData","formData","FormData","append","response","post","$apiURL","headers","$headers","status","fire","message","mounted"],"sources":["C:\\Users\\PULSE Electronics\\OneDrive\\Desktop\\ecommerce-mevn-free\\admin\\src\\components\\OrderDetail.vue"],"sourcesContent":["<template>\n    <!-- End Navbar -->\n    <div class=\"container-fluid py-4\" v-if=\"order != null\">\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h2 class=\"font-weight-bolder\">Order detail</h2>\n                    </div>\n\n                    <div class=\"card-body\">\n                        <div class=\"table-responsive p-0\">\n                            <table class=\"table align-items-center justify-content-center mb-0\" id=\"table\">\n                                <thead>\n                                    <tr>\n                                        <th class=\"text-uppercase text-secondary opacity-7\">Name</th>\n                                        <th class=\"text-uppercase text-secondary opacity-7\">Price</th>\n                                        <th class=\"text-uppercase text-secondary opacity-7\">Units</th>\n                                        <th class=\"text-uppercase text-secondary opacity-7\">Total</th>\n                                    </tr>\n                                </thead>\n\n                                <tbody>\n                                    <tr v-for=\"(item) in order.cart\" v-bind:key=\"item._id.toString()\">\n                                        <td>\n                                            <span v-text=\"item.name\"></span>\n                                        </td>\n\n                                        <td>\n                                            $<span v-text=\"item.price\"></span>\n                                        </td>\n\n                                        <td>\n                                            <span v-text=\"item.units\"></span>\n                                        </td>\n\n                                        <td>\n                                            $<span v-text=\"parseInt(item.price) * item.units\"></span>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n\n                    <div class=\"card-footer\">\n                        <h3>Total: $<span v-text=\"totalOrder\"></span></h3>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"row\" style=\"margin-top: 30px;\">\n            <div class=\"col-md-12\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h2 class=\"font-weight-bolder\">Customer detail</h2>\n                    </div>\n\n                    <div class=\"card-body\">\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <template v-if=\"order.paidVia == 'Stripe'\">\n                                    <p>User: <span v-text=\"order.name\"></span> <br />\n                                        <span v-text=\"order.email\"></span> <br />\n                                        <span v-text=\"order.mobile\"></span> <br />\n                                        <span v-text=\"order.address\"></span>\n                                    </p>\n                                </template>\n\n                                <template v-if=\"order.paidVia == 'PayPal'\">\n                                    <span v-text=\"order.details.payer.name.given_name + ' ' + order.details.payer.name.surname\"></span> <br />\n                                    <span v-text=\"order.details.payer.email_address\"></span> <br />\n                                    <span v-if=\"order.details.purchase_units.length > 0\" v-text=\"getPaypalAddress(order.details.purchase_units[0].shipping.address)\"></span>\n                                </template>\n\n                                <template v-if=\"order.paidVia == 'COD'\">\n                                    <span v-text=\"order.name\"></span> <br />\n                                    <span v-text=\"order.email\"></span> <br />\n                                    <span v-text=\"order.mobile\"></span> <br />\n                                    <span v-text=\"order.country\"></span>\n                                </template>\n                            </div>\n\n                            <div class=\"col-md-6\">\n                                <template v-if=\"order.paidVia == 'PayPal'\">\n                                    <p>\n                                        <a href=\"https://www.sandbox.paypal.com/mep/dashboard\" target=\"_blank\" v-text=\"order.paidVia\"></a>\n                                    </p>\n                                </template>\n\n                                <template v-if=\"order.paidVia == 'Stripe'\">\n                                    <a v-bind:href=\"'https://dashboard.stripe.com/test/payments/' + order.stripePaymentId\" target=\"_blank\" v-text=\"order.paidVia\"></a>\n                                </template>\n\n                                <span v-if=\"order.paidVia == 'COD'\" style=\"color: black;\">Cash on delivery</span>\n\n                                <p v-text=\"order.status\"></p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import axios from \"axios\"\n    import swal from \"sweetalert2\"\n\n    export default {\n        data() {\n            return {\n                order: null,\n                orderId: this.$route.params._id\n            }\n        },\n\n        computed: {\n            totalOrder() {\n                if (this.order == null) {\n                    return 0\n                }\n\n                let total = 0\n                for (let a = 0; a < this.order.cart.length; a++) {\n                    total += (parseInt(this.order.cart[a].price) * this.order.cart[a].units)\n                }\n                return total\n            }\n        },\n\n        methods: {\n            getPaypalAddress: function (address) {\n                let value = address.address_line_1 + \" \" + address.admin_area_2 + \" \" + address.admin_area_1 + \" \" + address.postal_code + \" \" + address.country_code\n                return value\n            },\n            \n            getData: async function () {\n                const formData = new FormData()\n                formData.append(\"orderId\", this.orderId)\n\n                const response = await axios.post(\n                    this.$apiURL + \"/admin/orders/fetchSingle\",\n                    formData,\n                    {\n                        headers: this.$headers\n                    }\n                )\n\n                if (response.data.status == \"success\") {\n                    this.order = response.data.order\n                } else {\n                    swal.fire(\"Error\", response.data.message, \"error\")\n                }\n            }\n        },\n\n        mounted: function () {\n            this.getData()\n        }\n    }\n</script>\n\n<style>\n    #table th,\n    #table td {\n        padding-left: 0px !important;\n    }\n</style>"],"mappings":"AA6GI,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,aAAY;AAE7B,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE,IAAI;MACXC,OAAO,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC;IAChC;EACJ,CAAC;EAEDC,QAAQ,EAAE;IACNC,UAAUA,CAAA,EAAG;MACT,IAAI,IAAI,CAACN,KAAI,IAAK,IAAI,EAAE;QACpB,OAAO;MACX;MAEA,IAAIO,KAAI,GAAI;MACZ,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAI,IAAI,CAACR,KAAK,CAACS,IAAI,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;QAC7CD,KAAI,IAAMI,QAAQ,CAAC,IAAI,CAACX,KAAK,CAACS,IAAI,CAACD,CAAC,CAAC,CAACI,KAAK,IAAI,IAAI,CAACZ,KAAK,CAACS,IAAI,CAACD,CAAC,CAAC,CAACK,KAAK;MAC3E;MACA,OAAON,KAAI;IACf;EACJ,CAAC;EAEDO,OAAO,EAAE;IACLC,gBAAgB,EAAE,SAAAA,CAAUC,OAAO,EAAE;MACjC,IAAIC,KAAI,GAAID,OAAO,CAACE,cAAa,GAAI,GAAE,GAAIF,OAAO,CAACG,YAAW,GAAI,GAAE,GAAIH,OAAO,CAACI,YAAW,GAAI,GAAE,GAAIJ,OAAO,CAACK,WAAU,GAAI,GAAE,GAAIL,OAAO,CAACM,YAAW;MACpJ,OAAOL,KAAI;IACf,CAAC;IAEDM,OAAO,EAAE,eAAAA,CAAA,EAAkB;MACvB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,EAAC;MAC9BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE,IAAI,CAACzB,OAAO;MAEvC,MAAM0B,QAAO,GAAI,MAAM9B,KAAK,CAAC+B,IAAI,CAC7B,IAAI,CAACC,OAAM,GAAI,2BAA2B,EAC1CL,QAAQ,EACR;QACIM,OAAO,EAAE,IAAI,CAACC;MAClB,EACJ;MAEA,IAAIJ,QAAQ,CAAC5B,IAAI,CAACiC,MAAK,IAAK,SAAS,EAAE;QACnC,IAAI,CAAChC,KAAI,GAAI2B,QAAQ,CAAC5B,IAAI,CAACC,KAAI;MACnC,OAAO;QACHF,IAAI,CAACmC,IAAI,CAAC,OAAO,EAAEN,QAAQ,CAAC5B,IAAI,CAACmC,OAAO,EAAE,OAAO;MACrD;IACJ;EACJ,CAAC;EAEDC,OAAO,EAAE,SAAAA,CAAA,EAAY;IACjB,IAAI,CAACZ,OAAO,EAAC;EACjB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}