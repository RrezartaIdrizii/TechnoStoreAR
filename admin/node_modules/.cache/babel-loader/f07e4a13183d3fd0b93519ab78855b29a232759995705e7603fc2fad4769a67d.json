{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-fluid py-4\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_4 = {\n  class: \"card\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"font-weight-bolder\"\n}, \"All products\")], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"card-body\"\n};\nconst _hoisted_7 = {\n  class: \"table-responsive p-0\"\n};\nconst _hoisted_8 = {\n  class: \"table align-items-center justify-content-center mb-0\",\n  id: \"products-table\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-uppercase text-secondary opacity-7\"\n}, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-uppercase text-secondary opacity-7\"\n}, \"Price\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-uppercase text-secondary opacity-7\"\n}, \"In stock\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-uppercase text-secondary opacity-7\"\n}, \"Actions\")])], -1 /* HOISTED */);\nconst _hoisted_10 = [\"textContent\"];\nconst _hoisted_11 = [\"textContent\"];\nconst _hoisted_12 = [\"textContent\"];\nconst _hoisted_13 = [\"value\"];\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  name: \"submit\",\n  class: \"btn btn-xs bg-gradient-primary\",\n  value: \"Delete\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"card-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" End Navbar \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"table\", _hoisted_8, [_hoisted_9, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: product._id.toString()\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      textContent: _toDisplayString(product.name)\n    }, null, 8 /* PROPS */, _hoisted_10)]), _createElementVNode(\"td\", null, [_createTextVNode(\" €\"), _createElementVNode(\"span\", {\n      textContent: _toDisplayString(product.price)\n    }, null, 8 /* PROPS */, _hoisted_11)]), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      textContent: _toDisplayString(product.itemsInStock || 0)\n    }, null, 8 /* PROPS */, _hoisted_12)]), _createElementVNode(\"td\", null, [_createVNode(_component_router_link, {\n      to: '/product/edit/' + product._id,\n      class: \"text-secondary\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Edit \")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), _createElementVNode(\"form\", {\n      onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.deleteProduct && $options.deleteProduct(...args), [\"prevent\"]))\n    }, [_createElementVNode(\"input\", {\n      type: \"hidden\",\n      name: \"_id\",\n      value: product._id,\n      required: \"\"\n    }, null, 8 /* PROPS */, _hoisted_13), _hoisted_14], 32 /* HYDRATE_EVENTS */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.loadMore && $options.loadMore(...args)),\n    class: \"btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0\",\n    ref: \"btnLoadMore\"\n  }, \"Load more\", 512 /* NEED_PATCH */)])])])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","id","type","name","value","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createElementBlock","_Fragment","_renderList","$data","products","product","key","_id","toString","_toDisplayString","price","itemsInStock","_createVNode","_component_router_link","to","onSubmit","_cache","_withModifiers","args","$options","deleteProduct","required","_hoisted_14","_hoisted_15","onClick","loadMore","ref"],"sources":["C:\\Users\\PULSE Electronics\\OneDrive\\Desktop\\TechnoStoreAR\\admin\\src\\components\\AllProducts.vue"],"sourcesContent":["<template>\r\n    <!-- End Navbar -->\r\n    <div class=\"container-fluid py-4\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <h4 class=\"font-weight-bolder\">All products</h4>\r\n                    </div>\r\n\r\n                    <div class=\"card-body\">\r\n                        <div class=\"table-responsive p-0\">\r\n                            <table class=\"table align-items-center justify-content-center mb-0\" id=\"products-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th class=\"text-uppercase text-secondary opacity-7\">Name</th>\r\n                                        <th class=\"text-uppercase text-secondary opacity-7\">Price</th>\r\n                                        <th class=\"text-uppercase text-secondary opacity-7\">In stock</th>\r\n                                        <th class=\"text-uppercase text-secondary opacity-7\">Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n\r\n                                <tbody>\r\n                                    <tr v-for=\"(product) in products\" v-bind:key=\"product._id.toString()\">\r\n                                        <td>\r\n                                            <span v-text=\"product.name\"></span>\r\n                                        </td>\r\n\r\n                                        <td>\r\n                                            €<span v-text=\"product.price\"></span>\r\n                                        </td>\r\n\r\n                                        <td>\r\n                                            <span v-text=\"product.itemsInStock || 0\"></span>\r\n                                        </td>\r\n\r\n                                        <td>\r\n                                            <router-link v-bind:to=\"'/product/edit/' + product._id\" class=\"text-secondary\">\r\n                                                Edit\r\n                                            </router-link>\r\n\r\n                                            <form v-on:submit.prevent=\"deleteProduct\">\r\n                                                <input type=\"hidden\" name=\"_id\" v-bind:value=\"product._id\" required />\r\n\r\n                                                <input type=\"submit\" name=\"submit\" class=\"btn btn-xs bg-gradient-primary\" value=\"Delete\" />\r\n                                            </form>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"card-footer\">\r\n                        <button type=\"button\" v-on:click=\"loadMore\" class=\"btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0\" ref=\"btnLoadMore\">Load more</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import axios from \"axios\"\r\n    import swal from \"sweetalert2\"\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                page: 1,\r\n                products: []\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            deleteProduct: async function () {\r\n                const self = this\r\n                const form = event.target\r\n                const formData = new FormData(form)\r\n\r\n                swal.fire({\r\n                    title: 'Are you sure?',\r\n                    text: \"This product will be deleted.\",\r\n                    icon: 'warning',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    confirmButtonText: 'Yes, delete it!'\r\n                }).then(async function (result) {\r\n                    if (result.isConfirmed) {\r\n                        const response = await axios.post(\r\n                            self.$apiURL + \"/admin/products/destroy\",\r\n                            formData,\r\n                            {\r\n                                headers: self.$headers\r\n                            }\r\n                        )\r\n\r\n                        if (response.data.status == \"success\") {\r\n                            for (let a = 0; a < self.products.length; a++) {\r\n                                if (self.products[a]._id == form._id.value) {\r\n                                    self.products.splice(a, 1)\r\n                                    break\r\n                                }\r\n                            }\r\n\r\n                            swal.fire(\"Success\", response.data.message, \"success\")\r\n                        } else {\r\n                            swal.fire(\"Error\", response.data.message, \"error\")\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n\r\n            loadMore: async function () {\r\n                this.$refs.btnLoadMore.setAttribute(\"disabled\", \"disabled\")\r\n\r\n                this.page++\r\n                this.getData()\r\n            },\r\n\r\n            getData: async function () {\r\n                const formData = new FormData()\r\n                formData.append(\"page\", this.page)\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/admin/products/fetch\",\r\n                    formData,\r\n                    {\r\n                        headers: this.$headers\r\n                    }\r\n                )\r\n\r\n                this.$refs.btnLoadMore.removeAttribute(\"disabled\")\r\n\r\n                if (response.data.status == \"success\") {\r\n                    if (response.data.products.length > 0) {\r\n                        this.products = response.data.products\r\n                    }\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n            }\r\n        },\r\n\r\n        mounted: function () {\r\n            this.getData()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    #products-table th,\r\n    #products-table td {\r\n        padding-left: 0px !important;\r\n    }\r\n</style>"],"mappings":";;EAESA,KAAK,EAAC;AAAsB;;EACxBA,KAAK,EAAC;AAAK;;EACPA,KAAK,EAAC;AAAW;;EACbA,KAAK,EAAC;AAAM;gCACbC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAa,I,aACpBC,mBAAA,CAAgD;EAA5CD,KAAK,EAAC;AAAoB,GAAC,cAAY,E;;EAG1CA,KAAK,EAAC;AAAW;;EACbA,KAAK,EAAC;AAAsB;;EACtBA,KAAK,EAAC,sDAAsD;EAACE,EAAE,EAAC;;gCACnED,mBAAA,CAOQ,gB,aANJA,mBAAA,CAKK,a,aAJDA,mBAAA,CAA6D;EAAzDD,KAAK,EAAC;AAAyC,GAAC,MAAI,G,aACxDC,mBAAA,CAA8D;EAA1DD,KAAK,EAAC;AAAyC,GAAC,OAAK,G,aACzDC,mBAAA,CAAiE;EAA7DD,KAAK,EAAC;AAAyC,GAAC,UAAQ,G,aAC5DC,mBAAA,CAAgE;EAA5DD,KAAK,EAAC;AAAyC,GAAC,SAAO,E;;;;;iCA0BnDC,mBAAA,CAA2F;EAApFE,IAAI,EAAC,QAAQ;EAACC,IAAI,EAAC,QAAQ;EAACJ,KAAK,EAAC,gCAAgC;EAACK,KAAK,EAAC;;;EASvGL,KAAK,EAAC;AAAa;;;6DApDxCM,mBAAA,gBAAmB,EACnBL,mBAAA,CAyDM,OAzDNM,UAyDM,GAxDFN,mBAAA,CAuDM,OAvDNO,UAuDM,GAtDFP,mBAAA,CAqDM,OArDNQ,UAqDM,GApDFR,mBAAA,CAmDM,OAnDNS,UAmDM,GAlDFC,UAEM,EAENV,mBAAA,CAyCM,OAzCNW,UAyCM,GAxCFX,mBAAA,CAuCM,OAvCNY,UAuCM,GAtCFZ,mBAAA,CAqCQ,SArCRa,UAqCQ,GApCJC,UAOQ,EAERd,mBAAA,CA0BQ,iB,kBAzBJe,mBAAA,CAwBKC,SAAA,QAAAC,WAAA,CAxBmBC,KAAA,CAAAC,QAAQ,EAApBC,OAAO;yBAAnBL,mBAAA,CAwBK;MAxBoCM,GAAG,EAAED,OAAO,CAACE,GAAG,CAACC,QAAQ;QAC9DvB,mBAAA,CAEK,aADDA,mBAAA,CAAmC;mBAA7BwB,gBAAA,CAAQJ,OAAO,CAACjB,IAAI;4CAG9BH,mBAAA,CAEK,a,iBAFD,IACC,GAAAA,mBAAA,CAAoC;mBAA9BwB,gBAAA,CAAQJ,OAAO,CAACK,KAAK;4CAGhCzB,mBAAA,CAEK,aADDA,mBAAA,CAAgD;mBAA1CwB,gBAAA,CAAQJ,OAAO,CAACM,YAAY;4CAGtC1B,mBAAA,CAUK,aATD2B,YAAA,CAEcC,sBAAA;MAFMC,EAAE,qBAAqBT,OAAO,CAACE,GAAG;MAAEvB,KAAK,EAAC;;wBAAiB,MAE/E,C,iBAF+E,QAE/E,E;;iDAEAC,mBAAA,CAIO;MAJI8B,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;QACpCjC,mBAAA,CAAsE;MAA/DE,IAAI,EAAC,QAAQ;MAACC,IAAI,EAAC,KAAK;MAAQC,KAAK,EAAEgB,OAAO,CAACE,GAAG;MAAEc,QAAQ,EAAR;0CAE3DC,WAA2F,C;0CASvHrC,mBAAA,CAEM,OAFNsC,WAEM,GADFtC,mBAAA,CAA8I;IAAtIE,IAAI,EAAC,QAAQ;IAAMqC,OAAK,EAAAR,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAM,QAAA,IAAAN,QAAA,CAAAM,QAAA,IAAAP,IAAA,CAAQ;IAAElC,KAAK,EAAC,uDAAuD;IAAC0C,GAAG,EAAC;KAAc,WAAS,wB"},"metadata":{},"sourceType":"module","externalDependencies":[]}