{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"../../../public/assets/css/nucleo-icons.css\";\nimport \"../../../public/assets/css/nucleo-svg.css\";\nimport \"../../../public/assets/css/font-awesome.min.css\";\nimport axios from \"axios\";\nimport store from \"../../vuex/store\";\nimport { io } from \"socket.io-client\";\nexport default {\n  methods: {\n    doLogout: async function () {\n      const response = await axios.post(this.$apiURL + \"/admin/logout\", null, {\n        headers: this.$headers\n      });\n      localStorage.removeItem(this.$accessTokenKey);\n      store.commit(\"setAdmin\", null);\n      store.commit(\"setLogin\", false);\n      this.$router.push({\n        path: \"/login\"\n      });\n    },\n    getAdmin: async function () {\n      const self = this;\n      // check if admin is logged in\n      if (localStorage.getItem(this.$accessTokenKey)) {\n        const response = await axios.post(this.$apiURL + \"/admin/fetch\", null, {\n          headers: this.$headers\n        });\n        if (response.data.status == \"success\") {\n          // admin is logged in\n          store.commit(\"setAdmin\", response.data.admin);\n          store.commit(\"setLogin\", true);\n          store.commit(\"setUnReadOrderNotifications\", response.data.unReadOrderNotifications);\n          if (typeof global.socketIO !== \"undefined\") {\n            global.socketIO.emit(\"connected\", response.data.admin.email);\n            global.socketIO.on(\"newOrder\", function () {\n              let tempUnReadOrderNotifications = store.getters.getUnReadOrderNotifications;\n              tempUnReadOrderNotifications++;\n              store.commit(\"setUnReadOrderNotifications\", tempUnReadOrderNotifications);\n            });\n          }\n        } else {\n          // admin is logged out\n          localStorage.removeItem(this.$accessTokenKey);\n          store.commit(\"setLogin\", false);\n          this.$router.push({\n            path: \"/login\"\n          });\n        }\n      } else {\n        store.commit(\"setLogin\", false);\n        this.$router.push({\n          path: \"/login\"\n        });\n      }\n    }\n  },\n  computed: {\n    admin() {\n      return store.getters.getAdmin;\n    },\n    login() {\n      return store.getters.getLogin;\n    },\n    unReadOrderNotifications() {\n      return store.getters.getUnReadOrderNotifications;\n    }\n  },\n  mounted: function () {\n    this.getAdmin();\n    global.socketIO = io(this.$apiURL);\n  }\n};","map":{"version":3,"names":["axios","store","io","methods","doLogout","response","post","$apiURL","headers","$headers","localStorage","removeItem","$accessTokenKey","commit","$router","push","path","getAdmin","self","getItem","data","status","admin","unReadOrderNotifications","global","socketIO","emit","email","on","tempUnReadOrderNotifications","getters","getUnReadOrderNotifications","computed","login","getLogin","mounted"],"sources":["C:\\Users\\arbid\\OneDrive\\Desktop\\TechnoStoreAR\\admin\\src\\components\\layouts\\AppHeader.vue"],"sourcesContent":["<template>\n\t<aside class=\"sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 bg-gradient-dark\" id=\"sidenav-main\" v-if=\"login\">\n    <div class=\"sidenav-header\">\n      <i class=\"fas fa-times p-3 cursor-pointer text-white opacity-5 position-absolute end-0 top-0 d-none d-xl-none\" aria-hidden=\"true\" id=\"iconSidenav\"></i>\n      <a class=\"navbar-brand m-0\" target=\"_blank\"> \n        <!-- href=\" https://demos.creative-tim.com/material-dashboard/pages/dashboard \"  -->\n        \n        <img src=\"../../../public/assets/img/logo-ct.png\" class=\"navbar-brand-img h-100\" alt=\"main_logo\">\n        <span class=\"ms-1 font-weight-bold text-white\">Dashboard TechnoStore AR</span>\n      </a>\n    </div>\n    <hr class=\"horizontal light mt-0 mb-2\">\n    <div class=\"collapse navbar-collapse  w-auto\" id=\"sidenav-collapse-main\">\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item\">\n          <router-link v-bind:class=\"'nav-link text-white ' + ($route.path == '/' ? 'bg-gradient-primary active' : '')\" to=\"/\">\n            <div class=\"text-white text-center me-2 d-flex align-items-center justify-content-center\">\n              <i class=\"material-icons opacity-10\">dashboard</i>\n            </div>\n            <span class=\"nav-link-text ms-1\">Dashboard</span>\n          </router-link>\n        </li>\n        <li class=\"nav-item mt-3\">\n          <h6 class=\"ps-4 ms-2 text-uppercase text-xs text-white font-weight-bolder opacity-8\">Products</h6>\n        </li>\n        <li class=\"nav-item\">\n          <router-link v-bind:class=\"'nav-link text-white ' + ($route.path == '/allProducts' ? 'bg-gradient-primary active' : '')\" to=\"/allProducts\">\n            <div class=\"text-white text-center me-2 d-flex align-items-center justify-content-center\">\n              <i class=\"material-icons opacity-10\">list</i>\n            </div>\n            <span class=\"nav-link-text ms-1\">All products</span>\n          </router-link>\n        </li>\n\n        <li class=\"nav-item\">\n          <router-link v-bind:class=\"'nav-link text-white ' + ($route.path == '/addProduct' ? 'bg-gradient-primary active' : '')\" to=\"/addProduct\">\n            <div class=\"text-white text-center me-2 d-flex align-items-center justify-content-center\">\n              <i class=\"material-icons opacity-10\">add</i>\n            </div>\n            <span class=\"nav-link-text ms-1\">Add new product</span>\n          </router-link>\n        </li>\n\n        <li class=\"nav-item mt-3\">\n          <h6 class=\"ps-4 ms-2 text-uppercase text-xs text-white font-weight-bolder opacity-8\">Orders</h6>\n        </li>\n        <li class=\"nav-item\">\n          <router-link v-bind:class=\"'nav-link text-white ' + ($route.path == '/allOrders' ? 'bg-gradient-primary active' : '')\" to=\"/allOrders\">\n            <div class=\"text-white text-center me-2 d-flex align-items-center justify-content-center\">\n              <i class=\"material-icons opacity-10\">list</i>\n            </div>\n            <span class=\"nav-link-text ms-1\">All orders</span>\n            <span v-if=\"unReadOrderNotifications > 0\" v-text=\"'(' + unReadOrderNotifications + ')'\" style=\"margin-left: 10px;\"></span>\n          </router-link>\n        </li>\n\n        <li class=\"nav-item\" v-if=\"login\">\n          <a class=\"nav-link text-white \" href=\"javascript:void(0)\" v-on:click=\"doLogout\">\n            <div class=\"text-white text-center me-2 d-flex align-items-center justify-content-center\">\n              <i class=\"material-icons opacity-10\">power_settings_new</i>\n            </div>\n            <span class=\"nav-link-text ms-1\">Logout</span>\n          </a>\n        </li>\n\n        <li class=\"nav-item\" v-else>\n          <router-link class=\"nav-link text-white \" to=\"/login\">\n            <div class=\"text-white text-center me-2 d-flex align-items-center justify-content-center\">\n              <i class=\"material-icons opacity-10\">login</i>\n            </div>\n            <span class=\"nav-link-text ms-1\">Sign In</span>\n          </router-link>\n        </li>\n      </ul>\n    </div>\n  </aside>\n</template>\n\n<script>\n\n\timport \"../../../public/assets/css/nucleo-icons.css\"\n\timport \"../../../public/assets/css/nucleo-svg.css\"\n\timport \"../../../public/assets/css/font-awesome.min.css\"\n\n  import axios from \"axios\"\n  import store from \"../../vuex/store\"\n  import { io } from \"socket.io-client\"\n\n\texport default {\n\n    methods: {\n\n      doLogout: async function () {\n        const response = await axios.post(\n          this.$apiURL + \"/admin/logout\",\n          null,\n          {\n            headers: this.$headers\n          }\n        )\n\n        localStorage.removeItem(this.$accessTokenKey)\n        store.commit(\"setAdmin\", null)\n        store.commit(\"setLogin\", false)\n\n        this.$router.push({\n            path: \"/login\"\n        })\n      },\n\n      getAdmin: async function () {\n        const self = this\n        // check if admin is logged in\n        if (localStorage.getItem(this.$accessTokenKey)) {\n          const response = await axios.post(\n            this.$apiURL + \"/admin/fetch\",\n            null,\n            {\n              headers: this.$headers\n            }\n          )\n\n          if (response.data.status == \"success\") {\n            // admin is logged in\n            store.commit(\"setAdmin\", response.data.admin)\n            store.commit(\"setLogin\", true)\n            store.commit(\"setUnReadOrderNotifications\", response.data.unReadOrderNotifications)\n\n            if (typeof global.socketIO !== \"undefined\") {\n              global.socketIO.emit(\"connected\", response.data.admin.email)\n\n              global.socketIO.on(\"newOrder\", function () {\n                let tempUnReadOrderNotifications = store.getters.getUnReadOrderNotifications\n                tempUnReadOrderNotifications++\n                store.commit(\"setUnReadOrderNotifications\", tempUnReadOrderNotifications)\n              })\n            }\n          } else {\n            // admin is logged out\n            localStorage.removeItem(this.$accessTokenKey)\n            store.commit(\"setLogin\", false)\n            this.$router.push({\n              path: \"/login\"\n            })\n          }\n        } else {\n          store.commit(\"setLogin\", false)\n\n          this.$router.push({\n            path: \"/login\"\n          })\n        }\n      },\n    },\n\n    computed: {\n      admin() {\n        return store.getters.getAdmin\n      },\n\n      login() {\n        return store.getters.getLogin\n      },\n\n      unReadOrderNotifications () {\n        return store.getters.getUnReadOrderNotifications\n      }\n    },\n\n    mounted: function () {\n        this.getAdmin()\n\n        global.socketIO = io(this.$apiURL)\n    },\n\t}\n</script>\n\n<style>\n\t@import \"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700\"\n</style>\n\n<style>\n\t@import \"https://fonts.googleapis.com/icon?family=Material+Icons+Round\"\n</style>\n\n<style>\n\t.navbar-vertical.navbar-expand-xs .navbar-collapse {\n\t\theight: auto !important;\n\t}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}